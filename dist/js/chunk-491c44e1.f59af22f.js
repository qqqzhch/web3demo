(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-491c44e1"],{7138:function(t,e,n){"use strict";n("b87d")},7929:function(t,e,n){"use strict";var r,a,i,o=n("5530"),u=(n("b0c0"),n("2f62")),c=n("97a5"),s=n("c00b"),d=n("bcab"),l=n("5bed"),b=n("b012"),h=!1,p={inject:["reload"],data:function(){return{liquityReady:!1,AddressZero:s["a"],undefinedAddress:"undefined"}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])(["ethersprovider","ethChainID","ethAddress"])),{},{isReady:function(){return this.ethersprovider&&this.ethChainID&&this.undefinedAddress},isConnect:function(){return this.ethersprovider&&this.ethChainID&&this.ethAddress}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("buildr",["setLiquityState"])),Object(u["b"])("pool",["setLiquityMethods"])),{},{getLiquityInstance:function(){var t=this.ethersprovider,e=this.ethAddress,n=this.ethChainID,r=Object(d["_connectByChainId"])(t,e?t.getSigner(e):void 0,n,{userAddress:e,frontendTag:s["a"],useStore:"blockPolled"}),a=d["EthersLiquity"]._from(r);this.setLiquityMethods(a)},init:b((function(){var t=this,e={chainID:this.ethChainID,library:this.ethersprovider,account:this.ethAddress};r=Object(c["e"])(e),r.store.onLoaded=function(){t.setLiquityState(r.store.state),t.liquityReady=!0,t.getLiquityInstance()},!1===h&&this.ethAddress?(r.store.subscribe((function(e){var n=e.newState;e.oldState;t.setLiquityState(n)})),h=!0):this.liquityReady=!0,r.store.start()}),1e3)}),watch:{isReady:function(t){t&&this.init()},isConnect:function(t){t&&this.init()}},created:function(){this.isReady&&this.init()},mounted:function(){var t=this;l["a"].$on("txsuccess",(function(){"lpPool"==t.$route.name&&t.reload()}))}},f=p,y=n("2877"),v=Object(y["a"])(f,a,i,!1,null,null,null);e["a"]=v.exports},"91c0":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.liquityReady?n("div",{staticClass:"buildr-wrap"},[n("div",{staticClass:"buildr-content"},[n("router-view")],1)]):n("div",[n("Loading")],1)},a=[],i=n("5530"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("2f62")),u=n("7929"),c={name:"Vault",mixins:[u["a"]],data:function(){return{nav:"",liquityReady:!1,isCreate:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["ethersprovider","ethChainID","ethAddress"])),Object(o["c"])("buildr",["allPoolsEnable","isOpen"])),methods:{},components:{Loading:function(){return n.e("chunk-6f442e8e").then(n.bind(null,"83ab0"))}}},s=c,d=(n("7138"),n("2877")),l=Object(d["a"])(s,r,a,!1,null,null,null);e["default"]=l.exports},"97a5":function(t,e,n){"use strict";n.d(e,"h",(function(){return h})),n.d(e,"a",(function(){return y})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return g})),n.d(e,"c",(function(){return D})),n.d(e,"b",(function(){return R})),n.d(e,"d",(function(){return A}));var r=n("1da1"),a=(n("96cf"),n("d3b7"),n("25f0"),n("99af"),n("b565")),i=n("c00b"),o=n("a078"),u=n("bcab"),c=u.EthersLiquity,s=u._connectByChainId,d=(new a["Percent"](a["MINIMUM_COLLATERAL_RATIO"]).toString(0),new a["Percent"](a["CRITICAL_COLLATERAL_RATIO"]).toString(0),i["a"]),l=.005,b=o["a"].gasLimit,h="LAI",p=1.1,f=20,y=200,v=function(t){return t.borrowingRate.add(l).toString()},w=function(t){var e=t.library,n=t.account,r=t.chainID,a=s(e,n?e.getSigner(n):void 0,r,{userAddress:n,frontendTag:d,useStore:"blockPolled"}),i=c._from(a);return i},m=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,u,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.liquity,r=e.library,a=e.account,i=e.chainID,o=e.depositAmount,u=e.borrowLUSDAmount,n=n||w({library:r,account:a,chainID:i}),t.next=4,n.populate.openTrove({depositCollateral:o,borrowLUSD:u});case 4:return c=t.sent,t.prev=5,t.next=8,r.estimateGas(c.rawPopulatedTransaction);case 8:s=t.sent,s=s.add(5e4).toString(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5);case 15:return t.abrupt("return",s);case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,u,c,s,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.library,r=e.account,a=e.chainID,i=e.depositAmount,o=e.borrowLUSDAmount,u=e.liquityState,c=w({library:n,account:r,chainID:a}),s=v(u),t.next=5,m({liquity:c,library:n,account:r,chainID:a,depositAmount:i,borrowLUSDAmount:o});case 5:return d=t.sent,t.next=8,c.send.openTrove({depositCollateral:i,borrowLUSD:o},s,{gasLimit:d});case 8:return l=t.sent,t.abrupt("return",{base:"Deposit: ".concat(i," BNB, Debt: ").concat(o," ").concat(h),transaction:l});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.library,r=e.account,a=e.chainID,i=w({library:n,account:r,chainID:a}),t.next=4,i.send.closeTrove({gasLimit:b});case 4:return o=t.sent,t.abrupt("return",{base:"Close Vault",transaction:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(t,e,n){var r=t.whatChanged(e,n);return r&&"invalidCreation"!==r.type&&r.params.borrowLUSD?r.params.borrowLUSD.mul(n):a["Decimal"].ZERO},R=function(t,e,n){var r=t.trove,i=new a["Trove"](r.collateral,r.debt),o=t.price,u=t.borrowingRate;i=i.setCollateral(e),i=i.setDebt(n);var c=L(r,i,u).toString(),s=i.isEmpty?"":i.collateralRatio(o).toString();return{stableName:h,liquidationReserve:f,price:o,borrowingRate:u,borrowingFee:c,collateralRatio:s,liquidationRatio:p}},I={deposit:"Deposit",withdraw:"Withdraw",borrow:"Borrow",repay:"Repay"},A=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,u,c,s,d,l,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.library,r=e.account,a=e.chainID,i=e.liquityState,o=e.type,u=e.coinAmount,c=e.unit,s=w({library:n,account:r,chainID:a}),d=v(i),l={},t.t0=o,t.next="deposit"===t.t0?7:"withdraw"===t.t0?9:"borrow"===t.t0?11:"repay"===t.t0?13:15;break;case 7:return l={depositCollateral:u},t.abrupt("break",15);case 9:return l={withdrawCollateral:u},t.abrupt("break",15);case 11:return l={borrowLUSD:u},t.abrupt("break",15);case 13:return l={repayLUSD:u},t.abrupt("break",15);case 15:return t.next=17,s.send.adjustTrove(l,d,{gasLimit:b});case 17:return h=t.sent,t.abrupt("return",{base:"".concat(I[o]," ").concat(u," ").concat(c),transaction:h});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b012:function(t,e){function n(t,e,n){var r,a,i,o,u;function c(){var s=Date.now()-o;s<e&&s>=0?r=setTimeout(c,e-s):(r=null,n||(u=t.apply(i,a),i=a=null))}null==e&&(e=100);var s=function(){i=this,a=arguments,o=Date.now();var s=n&&!r;return r||(r=setTimeout(c,e)),s&&(u=t.apply(i,a),i=a=null),u};return s.clear=function(){r&&(clearTimeout(r),r=null)},s.flush=function(){r&&(u=t.apply(i,a),i=a=null,clearTimeout(r),r=null)},s}n.debounce=n,t.exports=n},b87d:function(t,e,n){}}]);
//# sourceMappingURL=chunk-491c44e1.f59af22f.js.map