(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ff802fa"],{"231b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"balance"},[a("div",{staticClass:"overview-warpper"},[a("Overview")],1),t.isMobile?a("div",[t.isOpen?a("div",{staticClass:"CDP-content"},[t.poolsData.length?t._e():a("div",[a("Loading")],1),t._l(t.poolsData,(function(e){return a("div",{key:e.tokenTitle},[a("div",{staticClass:"pool-item-warp"},[a("div",{staticClass:"item-top"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"small-item pool-wapper flex flex-col"},[a("img",{attrs:{src:t.getTokenImg(e.tokenName),alt:e.tokenName,width:"48px"}}),a("span",{staticClass:"token-title"},[t._v(t._s(e.tokenTitle))])])]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn create-btn",on:{click:function(a){return t.openCloseDialog(e)}}},[t._v(" "+t._s(t.$t("vault-close-trove"))+" ")])])]),a("div",{staticClass:"item-info"},[a("div",[a("div",{staticClass:"grid-4-1"},[a("span",[t._v(t._s(t.$t("build-liquidation-price")))]),a("span",{staticClass:"f-danger"},[t._v("$ "+t._s(t.getLiquidationPrice(e)))])]),a("div",{staticClass:"grid-4-1"},[a("span",[t._v(t._s(t.$t("build-liquidation-ratio")))]),a("span",{staticClass:"f-warning"},[t._v(t._s(t.BigNumber(e.liquidationRatio).times(100))+"%")])])]),a("div",[a("div",{staticClass:"grid-4-1"},[a("span",[t._v(t._s(t.$t("build-current-coll-ratio")))]),a("span",{class:{"f-green":e.collateralRatio>=1.5,"f-warning":e.collateralRatio<1.5&&e.collateralRatio>1.2,"f-danger":e.collateralRatio<1.2}},[t._v(" "+t._s(t.BigNumber(e.collateralRatio).times(100).toFixed(2))+"% ")])]),a("div",{staticClass:"grid-4-1"},[a("span",[t._v(t._s(t.$t("build-current-price")))]),a("span",{staticClass:"f-green"},[t._v(" $ "+t._s(t.BigNumber(e.currencyPrice).toFixed(2))+" ")])])])]),a("div",{staticClass:"CDP-item"},[a("div",{staticClass:"text-center"},[a("div",[a("span",[t._v(t._s(t.$t("build-Deposited")))]),a("p",[t._v(t._s(t._f("formatNormalValue")(e.depositAmount))+" "+t._s(e.tokenName))])]),a("div",{staticClass:"mrg-tb-10"},[a("button",{staticClass:"btn",on:{click:function(a){return t.openJoinDialog(e)}}},[t._v(" "+t._s(t.$t("build-Deposit"))+" ")])]),a("div",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.openExitDialog(e)}}},[t._v(t._s(t.$t("vault-withdrawal")))])])]),a("div",{staticClass:"text-center"},[a("div",[a("span",[t._v(t._s(t.$t("vault-current-debt")))]),a("p",[t._v(" "+t._s(t._f("formatNormalValue")(e.debtAmount))+" "+t._s(e.stableName)+" ")])]),a("div",{staticClass:"mrg-tb-10 text-center"},[a("button",{staticClass:"btn",on:{click:function(a){return t.openMintDialog(e)}}},[t._v(" "+t._s(t.$t("vault-add-borrow"))+" ")])]),a("div",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.openBurnDialog(e)}}},[t._v(t._s(t.$t("vault-repay")))])])]),a("div",{staticClass:"btn-warpper"})])])])}))],2):a("div",{staticClass:"CDP-content"},[a("div",{staticClass:"create-vault-content"},[t.ethAddress?a("button",{staticClass:"btn create-btn",on:{click:function(e){return t.toPage("create")}}},[t._v(" "+t._s(t.$t("vault-creted"))+" ")]):a("button",{staticClass:"btn create-btn disableBtn"},[t._v(" "+t._s(t.$t("vault-creted"))+" ")])])])]):a("div",[t.isOpen?a("div",{staticClass:"CDP-content"},[t.poolsData.length?t._e():a("div",[a("Loading")],1),t._l(t.poolsData,(function(e){return a("div",{key:e.tokenTitle},[a("div",{staticClass:"pool-item-warp"},[a("div",{staticClass:"item-top"},[a("div",{staticClass:"item-title"},[a("span",[t._v(" "+t._s(t.$t("build-liquidation-price"))+": "),a("span",{staticClass:"f-danger"},[t._v("$ "+t._s(t.getLiquidationPrice(e)))])]),a("span",[t._v(" "+t._s(t.$t("build-liquidation-ratio"))+": "),a("span",{staticClass:"f-warning"},[t._v(t._s(t.BigNumber(e.liquidationRatio).times(100))+"%")])])]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn create-btn",on:{click:function(a){return t.openCloseDialog(e)}}},[t._v(" "+t._s(t.$t("vault-close-trove"))+" ")])])]),a("div",{staticClass:"CDP-item"},[a("div",{staticClass:"small-item pool-wapper flex flex-col items-center"},[a("img",{attrs:{src:t.getTokenImg(e.tokenName),alt:e.tokenName}}),a("div",[t._v(t._s(e.tokenTitle))])]),a("div",{staticClass:"small-item line"},[a("div",[a("span",[t._v(t._s(t.$t("build-current-coll-ratio")))]),a("div",{staticClass:"circle-wapper"},[a("span",{class:{"bg-green":e.collateralRatio>=1.5,"bg-warning":e.collateralRatio<1.5&&e.collateralRatio>=1.2,"bg-danger":e.collateralRatio<1.2}}),a("p",{class:{"f-green":e.collateralRatio>=1.5,"f-warning":e.collateralRatio<1.5&&e.collateralRatio>1.2,"f-danger":e.collateralRatio<1.2}},[t._v(" "+t._s(t.BigNumber(e.collateralRatio).times(100).toFixed(2))+"% ")])])]),a("div",{staticClass:"mrg-tb-20"},[a("span",[t._v(t._s(t.$t("build-current-price")))]),a("p",{staticClass:"f-green"},[t._v(" $ "+t._s(e.currencyPrice)+" ")])])]),a("div",{staticClass:"small-item text-center"},[a("div",[a("span",[t._v(t._s(t.$t("build-Deposited")))]),a("p",[t._v(t._s(t._f("formatNormalValue")(e.depositAmount))+" "+t._s(e.tokenName))])]),a("div",{staticClass:"mrg-tb-10"},[a("button",{staticClass:"btn",on:{click:function(a){return t.openJoinDialog(e)}}},[t._v(" "+t._s(t.$t("build-Deposit"))+" ")])]),a("div",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.openExitDialog(e)}}},[t._v(t._s(t.$t("vault-withdrawal")))])])]),a("div",{staticClass:"small-item text-center"},[a("div",[a("span",[t._v(t._s(t.$t("vault-current-debt")))]),a("p",[t._v(" "+t._s(t._f("formatNormalValue")(e.debtAmount))+" "+t._s(e.stableName)+" ")])]),a("div",{staticClass:"mrg-tb-10"},[a("button",{staticClass:"btn",on:{click:function(a){return t.openMintDialog(e)}}},[t._v(" "+t._s(t.$t("vault-add-borrow"))+" ")])]),a("div",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.openBurnDialog(e)}}},[t._v(t._s(t.$t("vault-repay")))])])]),a("div",{staticClass:"btn-warpper"})])])])}))],2):a("div",{staticClass:"CDP-content"},[a("div",{staticClass:"create-vault-content"},[t.ethAddress?a("button",{staticClass:"btn create-btn",on:{click:function(e){return t.toPage("create")}}},[t._v(" "+t._s(t.$t("vault-creted"))+" ")]):a("button",{staticClass:"btn create-btn disableBtn"},[t._v(" "+t._s(t.$t("vault-creted"))+" ")])])])]),a("div",{staticClass:"modal-wrapper"},[a("JoinDialog",{ref:"tokenJoin"}),a("MintDialog",{ref:"tokenMint"}),a("BurnDialog",{ref:"tokenBurn"}),a("ExitDialog",{ref:"tokenExit"}),a("CloseDialog",{ref:"tokenClose"})],1),a("haveSendDialog",{ref:"haveSendtx"})],1)},s=[],n=a("5530"),o=(a("159b"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("901e")),l=a.n(o),r=a("2f62"),c=a("5bed"),u=a("49b0"),d=a("b530"),v=a("12cb"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview-warp"},[t.isMobile?a("div",{staticClass:"content-warpper flex items-center"},[t.liquityState&&t.liquityState.price?a("div",{staticClass:"content"},[a("div",{staticClass:"total-warpper"},[a("h2",[t._v(t._s(t.$t("vault-total-value-locked")))]),a("p",[a("span",[t._v("$ "+t._s(t.BigNumber(t.totalValue).times(t.price).toFixed(2)))])])]),a("div",{staticClass:"other-warpper flex items-center"},[a("div",[a("h2",[t._v(t._s(t.$t("vault-total-collateral")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.totalValue).toFixed(2)))]),t._v(" BNB ")])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-total-debt")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.totalDebt).toFixed(2)))]),t._v(" "+t._s(t.stableName)+" ")])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-total-collateral-ratio")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.totalCollateralRatio).times(100).toFixed(2))+"%")])])])]),a("div",{staticClass:"other-warpper flex items-center"},[a("div",[a("h2",[t._v(t._s(t.$t("vault-borrowing-fee")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.borrowingRate).times(100).toFixed(2))+"%")])])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-redemption-fee")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.redemptionRate).times(100).toFixed(2))+"%")])])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-total-vaults")))]),a("p",[a("span",[t._v(t._s(t.totalVaults))])])])])]):t._e()]):a("div",{staticClass:"content-warpper flex items-center"},[t.liquityState&&t.liquityState.price?a("div",{staticClass:"content"},[a("div",{staticClass:"total-warpper"},[a("h2",[t._v(t._s(t.$t("vault-total-value-locked")))]),a("p",[a("span",[t._v("$ "+t._s(t.BigNumber(t.totalValue).times(t.price).toFixed(2)))])])]),a("div",{staticClass:"other-warpper flex items-center"},[a("div",[a("h2",[t._v(t._s(t.$t("vault-total-collateral")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.totalValue).toFixed(2)))]),t._v(" BNB ")])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-total-debt")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.totalDebt).toFixed(2)))]),t._v(" "+t._s(t.stableName)+" ")])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-total-collateral-ratio")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.totalCollateralRatio).times(100).toFixed(2))+"%")])])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-borrowing-fee")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.borrowingRate).times(100).toFixed(2))+"%")])])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-redemption-fee")))]),a("p",[a("span",[t._v(t._s(t.BigNumber(t.redemptionRate).times(100).toFixed(2))+"%")])])]),a("div",[a("h2",[t._v(t._s(t.$t("vault-total-vaults")))]),a("p",[a("span",[t._v(t._s(t.totalVaults))])])])])]):t._e()])])},p=[],_=a("97a5"),f={name:"overview",data:function(){return{stableName:_["h"],BigNumber:l.a}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(r["c"])("buildr",["liquityState"])),Object(r["c"])(["isMobile"])),{},{isPC:function(){return window.screen.width>1200},price:function(){return this.liquityState.price.toString()},totalValue:function(){return this.liquityState.total.collateral.toString()},totalDebt:function(){return this.liquityState.total.debt.toString()},borrowingRate:function(){return this.liquityState.borrowingRate.toString()},totalCollateralRatio:function(){var t=this.liquityState,e=t.total,a=t.price,i=e?e.collateralRatio(a).toString():0;return i},redemptionRate:function(){return this.liquityState.redemptionRate.toString()},totalVaults:function(){return this.liquityState.numberOfTroves.toString()}}),methods:{}},g=f,m=(a("fedc"),a("2877")),h=Object(m["a"])(g,b,p,!1,null,"3d671d3b",null),C=h.exports,k=a("4e7c"),w={name:"balance",data:function(){return{stableName:_["h"],collateralPools:[],poolsData:[],BigNumber:l.a,allPoolsCreated:!1}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(r["c"])(["web3","ethersprovider","ethChainID","ethAddress","currPool","isMobile"])),Object(r["c"])("buildr",["currPool","liquityState","isOpen"])),{},{isReady:function(){return this.ethersprovider&&this.ethChainID&&this.ethAddress}}),methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])("buildr",["setPoolsData","setAllPoolsEnable"])),{},{toPage:function(t){switch(t){case"balance":this.$router.push("/vault/balance");break;case"create":this.$router.push("/vault/create");break}},getTokenImg:function(t){var e=this.ethChainID;return Object(u["b"])(t,e)},checkLiquityReady:function(){var t=this.ethChainID;this.collateralPools=Object(d["a"])(t),this.loadData()},getLiquidationPrice:function(t){var e=t.currencyPrice,a=t.liquidationRatio,i=t.collateralRatio;return l()(e).times(a).div(i).toNumber()},getTroveIndicators:function(t,e){return Object(_["b"])(this.liquityState,t,e)},loadData:function(){var t=this;this.poolsData=[],this.collateralPools.forEach((function(e,a){var i=t.liquityState.trove.collateral.toString(),s=t.liquityState.trove.debt.toString(),n=t.liquityState.accountBalance.toString(),o=t.getTroveIndicators(i,s),l={index:a,tokenName:e.token,tokenTitle:e.title,stableName:t.stableName,liquityState:t.liquityState,collateralRatio:o.collateralRatio,borrowingRate:o.borrowingRate,liquidationRatio:o.liquidationRatio,liquidationReserve:o.liquidationReserve,accountBalance:n,depositAmount:i,debtAmount:s,currencyPrice:t.liquityState.price.toString()};t.poolsData=[l]}))},openJoinDialog:function(t){this.$refs.tokenJoin.open(t)},openMintDialog:function(t){this.$refs.tokenMint.open(t)},openBurnDialog:function(t){this.$refs.tokenBurn.open(t)},openExitDialog:function(t){this.$refs.tokenExit.open(t)},openCloseDialog:function(t){this.$refs.tokenClose.open(t)},sendtx:function(t){t&&t.base?(this.$refs.haveSendtx.open(t.base),c["a"].$emit("sendtx",[t.transaction.rawSentTransaction,{okinfo:t.base+" "+v["a"].t("vault-success"),failinfo:t.base+" "+v["a"].t("vault-fail")}])):this.$Notice.error({title:v["a"].t("notice.buidrNotice.n3")})},validate:function(t,e){var a={state:this.liquityState,trove:this.liquityState.trove,borrowingRate:this.liquityState.borrowingRate,depositAmount:t,borrowAmount:e};return t&&e?Object(k["a"])(a):""}}),watch:{isReady:function(t){t&&this.checkLiquityReady()},liquityState:{deep:!0,handler:function(){this.loadData()}}},components:{Overview:C,JoinDialog:function(){return a.e("chunk-7b045766").then(a.bind(null,"7e48"))},MintDialog:function(){return a.e("chunk-a90e079c").then(a.bind(null,"9307"))},BurnDialog:function(){return a.e("chunk-1d6c5fa4").then(a.bind(null,"1cf5"))},ExitDialog:function(){return a.e("chunk-8d747c70").then(a.bind(null,"9cbb"))},CloseDialog:function(){return a.e("chunk-18cd2385").then(a.bind(null,"f621"))},haveSendDialog:function(){return a.e("chunk-0f96104b").then(a.bind(null,"4f71"))},Loading:function(){return a.e("chunk-6f442e8e").then(a.bind(null,"83ab0"))}},created:function(){this.isReady&&this.checkLiquityReady()}},$=w,D=(a("d02f"),Object(m["a"])($,i,s,!1,null,null,null));e["default"]=D.exports},"946a":function(t,e,a){},a5b7:function(t,e,a){},d02f:function(t,e,a){"use strict";a("a5b7")},fedc:function(t,e,a){"use strict";a("946a")}}]);
//# sourceMappingURL=chunk-5ff802fa.d53e623a.js.map