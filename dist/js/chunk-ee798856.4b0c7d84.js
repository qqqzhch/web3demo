(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee798856"],{"3a95":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"claim-dialog"},[e("Modal",{attrs:{"class-name":"simple-modal","footer-hide":!0,closable:!0},model:{value:t.openClaimDialog,callback:function(a){t.openClaimDialog=a},expression:"openClaimDialog"}},[e("div",{staticClass:"simple-content"},["claim"===t.method?e("p",{staticClass:"title text-center"},[t._v(" "+t._s(t.$t("myPage.claim"))+" ")]):e("p",{staticClass:"title text-center"},[t._v(" Claim "+t._s(t.BABEL)+" and "+t._s(t.BNB)+" move to vault ")]),e("div",{staticClass:"simple-wrapper"},[e("div",{staticClass:"title-content"},[e("span",{staticClass:"card-title"},[t._v(t._s(t.$t("common.amount")))]),e("div",{staticClass:"balance-item"},[e("span",{staticClass:"mr-2 text-secondary"},[t._v(t._s(t.$t("myPage.dialog.claim.unclaim")))]),e("span",[t._v(t._s(t.claimAmount)+" "+t._s(t.BABEL)+" , "+t._s(t.unclaimBNB)+" "+t._s(t.BNB))])])]),e("div",{staticClass:"simple-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.amountClaim,expression:"amountClaim"}],staticClass:"amount-input",attrs:{readonly:"",type:"text"},domProps:{value:t.amountClaim},on:{input:function(a){a.target.composing||(t.amountClaim=a.target.value)}}})])]),e("div",{staticClass:"detail-wrapper"},[e("div",{staticClass:"detail-item"},[e("span",[t._v(t._s(t.$t("common.willRecieive")))]),e("p",[t._v(t._s(t.claimAmount)+" "+t._s(t.BABEL)+" , "+t._s(t.unclaimBNB)+" "+t._s(t.BNB))])])]),e("div",{staticClass:"btn-wrapper"},[t.extractLoading?e("Buttons",{attrs:{height:"48px"}},[t._v(" "+t._s(t.$t("common.loading"))+"... ")]):e("Buttons",{attrs:{height:"48px"},nativeOn:{click:function(a){return t.handleClaimMethods(a)}}},[t._v(" "+t._s(t.$t("common.confirm"))+" ")])],1)])])],1)},i=[],c=e("1da1"),o=e("5530"),s=(e("96cf"),e("99af"),e("d3b7"),e("3ca3"),e("ddb0"),e("2f62")),r=e("5bed"),l={data:function(){return{openClaimDialog:!1,claimAmount:0,data:{},extractLoading:!1,rewardToken:"BABEL",method:"",unclaimBNB:""}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(s["c"])(["BABEL","BNB"])),Object(s["c"])("pool",["liquity"])),{},{liquityInstance:function(){var t=this.liquity&&this.liquity.send;return t},amountClaim:function(){return"".concat(this.claimAmount," ").concat(this.BABEL,",").concat(this.unclaimBNB," ").concat(this.BNB)}}),methods:{open:function(t){this.data={},this.data=t,this.claimAmount=t.balance,this.method=t.method,this.unclaimBNB=t.unclaimBNB,this.openClaimDialog=!0},checkData:function(t){return this.claimAmount<=0&&this.unclaimBNB<=0?(this.$Notice.warning({title:this.$t("notice.n"),desc:this.$t("notice.n31")}),!1):!("move"===t&&this.unclaimBNB<=0)||(this.$Notice.warning({title:this.$t("notice.n"),desc:"The balance of BNB needs to be greater than 0"}),!1)},handleClaimMethods:function(){"move"===this.method?this.sendAndMoveExtract():this.sendExtract()},sendExtract:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.checkData()){a.next=2;break}return a.abrupt("return",!1);case 2:return t.extractLoading=!0,a.prev=3,a.next=6,t.liquityInstance.withdrawGainsFromStabilityPool({gasLimit:t.$globalConfig.gasLimit});case 6:e=a.sent,r["a"].$emit("sendSuccess"),t.openClaimDialog=!1,r["a"].$emit("sendtx",[e.rawSentTransaction,{okinfo:"".concat(t.$t("common.claim")," ").concat(t.claimAmount," ").concat(t.$t("notice.n42")),failinfo:"".concat(t.$t("common.claim")," ").concat(t.$t("notice.n43"))}]),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](3),t.$Notice.error({title:t.$t("notice.n32")});case 16:return a.prev=16,t.openClaimDialog=!1,t.extractLoading=!1,a.finish(16);case 20:case"end":return a.stop()}}),a,null,[[3,12,16,20]])})))()},sendAndMoveExtract:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.checkData("move")){a.next=2;break}return a.abrupt("return",!1);case 2:return t.extractLoading=!0,a.prev=3,a.next=6,t.liquityInstance.transferCollateralGainToTrove({gasLimit:t.$globalConfig.gasLimit});case 6:e=a.sent,r["a"].$emit("sendSuccess"),t.openClaimDialog=!1,r["a"].$emit("sendtx",[e.rawSentTransaction,{okinfo:"".concat(t.$t("common.claim")," ").concat(t.claimAmount," ").concat(t.$t("notice.n42")),failinfo:"".concat(t.$t("common.claim")," ").concat(t.$t("notice.n43"))}]),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](3),t.$Notice.error({title:t.$t("notice.n32")});case 16:return a.prev=16,t.openClaimDialog=!1,t.extractLoading=!1,a.finish(16);case 20:case"end":return a.stop()}}),a,null,[[3,12,16,20]])})))()}},components:{Buttons:function(){return e.e("chunk-2d225272").then(e.bind(null,"e2d3"))}}},m=l,u=(e("e34b"),e("2877")),d=Object(u["a"])(m,n,i,!1,null,"73e8dc06",null);a["default"]=d.exports},e34b:function(t,a,e){"use strict";e("f569")},f569:function(t,a,e){}}]);
//# sourceMappingURL=chunk-ee798856.4b0c7d84.js.map