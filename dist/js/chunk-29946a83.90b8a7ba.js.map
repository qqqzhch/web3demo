{"version":3,"sources":["webpack:///./src/assets/img/metamask48.svg","webpack:///./src/assets/img/check-blue-24.png","webpack:///./src/components/layout/dialog/walletDialog.vue?4253","webpack:///src/components/layout/dialog/walletDialog.vue","webpack:///./src/components/layout/dialog/walletDialog.vue?3d2e","webpack:///./src/components/layout/dialog/walletDialog.vue?ee48","webpack:///./src/components/layout/dialog/walletDialog.vue?0d94"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","openWalletDialog","expression","slot","_v","class","wallet","on","$event","selectWallet","nativeOn","connectWallet","staticRenderFns","inject","components","Buttons","data","methods","$store","commit","open","getLambAuth","component"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,+B,qBCA3CD,EAAOC,QAAU,8kB,2CCAjB,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,aAAa,eAAe,UAAW,EAAK,eAAc,EAAK,UAAW,GAAMC,MAAM,CAACC,MAAOT,EAAoB,iBAAEU,SAAS,SAAUC,GAAMX,EAAIY,iBAAiBD,GAAKE,WAAW,qBAAqB,CAACT,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,UAAUO,KAAK,UAAU,CAACd,EAAIe,GAAG,sBAAsBX,EAAG,MAAM,CAACE,YAAY,mDAAmDU,MAAoB,YAAdhB,EAAIiB,OAAuB,wBAA0B,GAAGC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,aAAa,eAAe,CAAChB,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,WAAyCH,EAAG,IAAI,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,eAAgDH,EAAG,MAAM,CAACE,YAAY,mDAAmDU,MAAoB,iBAAdhB,EAAIiB,OAA4B,wBAA0B,GAAGC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,aAAa,oBAAoB,CAAChB,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,WAAyDH,EAAG,IAAI,CAACJ,EAAIe,GAAG,qBAAqBX,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,eAAgDH,EAAG,UAAU,CAACiB,SAAS,CAAC,MAAQ,SAASF,GAAQ,OAAOnB,EAAIsB,cAActB,EAAIiB,WAAW,CAACjB,EAAIe,GAAG,uBAAuB,MAAM,IAC3lDQ,EAAkB,G,wHC2DtB,GACEC,OAAQ,CAAC,UACTC,WAAY,CACVC,QAAS,WAAb,yDAEEC,KALF,WAMI,MAAO,CACLf,kBAAkB,EAClBK,OAAQ,KAGZW,QAAS,CACPR,aADJ,SACA,GACMnB,KAAKgB,OAASA,EACd,EAAN,gDAEMhB,KAAK4B,OAAOC,OAAO,aAAcb,IAEnCc,KAPJ,WAQM9B,KAAKW,kBAAmB,EACxB,IAAN,2BACA,IACQ,KAAR,WAGIU,cAdJ,SAcA,GACA,eACQ,KAAR,aACA,qBACQ,KAAR,wBAMI,WAxBJ,WAwBA,uLAGA,yBAHA,OAGA,EAHA,OAIA,yCAEA,sBACA,WAPA,mDAUA,mBACA,uBACA,0BAZA,4DAiBIU,YAzCJ,aA4CI,qBA5CJ,WA4CA,gLAGA,WACA,4BACA,8BALA,SASA,WATA,OASA,EATA,OAUA,yCACA,iDAEA,4BACA,sBACA,WAfA,qDAiBA,4BAGA,WApBA,+DCnHoX,I,wBCQhXC,EAAY,eACd,EACAlC,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAU,E,2CCnBf,Y","file":"js/chunk-29946a83.90b8a7ba.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/metamask48.388c0de6.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAABbUlEQVRIS+2Uv0sCcRiHn1cjQwiCCIKGIBqivd0ICheDQvAghGpwbGiRllwahIaWGqrBIPTKphqiIZCI/oCgMWhtaoh+YNYb6gVmd96Fuvndju97z/Peh/c9oc1H2synI3BNuBNRNaIFHaXEDKZs12fWfERRHcLPNTCMsEhODmolzQni2s8HVyjjwBNCiJzctkYQ0V6CXAITwAswjSk33iOKajd5KdrOYVgD9HGOMgkU8REhKxd2tfYRxXQZSPDKFKfy/OvFkHYxyAkwC3ziwyAreaeF+CuI6gB+HoAgUKCHMBl5rwJUMMigxMsPlSZM2Wu0bfZfYOg8yhHgRznjkTkKUsLQLZQVC5jElLTbKjtPUUyXUPaRyg/xELgH1i1gGlOSbvDyfeMxNXQVZbMOtIspCS9wd0G5IqYbwJoFPGYMg5R8tU5QlewgjFAi4ji6DkZvm5xSH3cEyMub185/6rwJ/kutqe8IXMNre0TfPy1ZGvn/ECQAAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wallet-dialog\"},[_c('Modal',{attrs:{\"class-name\":\"wallet-modal\",\"transfer\":true,\"footer-hide\":true,\"closable\":true},model:{value:(_vm.openWalletDialog),callback:function ($$v) {_vm.openWalletDialog=$$v},expression:\"openWalletDialog\"}},[_c('div',{staticClass:\"modal-content\"},[_c('p',{staticClass:\"title text-center\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\" Connect Wallet \")]),_c('div',{staticClass:\"wallet-content flex justify-between items-center\",class:_vm.wallet == 'metamask' ? 'wallet-content-active' : '',on:{\"click\":function($event){return _vm.selectWallet('metamask')}}},[_c('div',{staticClass:\"logo flex items-center text-warpper\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/metamask48.svg\")}}),_c('p',[_vm._v(\"MetaMask\")])]),_c('div',{staticClass:\"img-wapper\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/check-blue-24.png\")}})])]),_c('div',{staticClass:\"wallet-content flex items-center justify-between\",class:_vm.wallet == 'walletconnect' ? 'wallet-content-active' : '',on:{\"click\":function($event){return _vm.selectWallet('walletconnect')}}},[_c('div',{staticClass:\"logo flex items-center text-warpper\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/walletconnect-hexagon-blue.svg\")}}),_c('p',[_vm._v(\"WalletConnect\")])]),_c('div',{staticClass:\"img-wapper\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/check-blue-24.png\")}})])]),_c('Buttons',{nativeOn:{\"click\":function($event){return _vm.connectWallet(_vm.wallet)}}},[_vm._v(\" Connect Wallet \")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wallet-dialog\">\n    <Modal\n      v-model=\"openWalletDialog\"\n      class-name=\"wallet-modal\"\n      :transfer=\"true\"\n      :footer-hide=\"true\"\n      :closable=\"true\"\n    >\n      <div class=\"modal-content\">\n        <p\n          slot=\"header\"\n          class=\"title text-center\"\n        >\n          Connect Wallet\n        </p>\n        <div\n          class=\"wallet-content flex justify-between items-center\"\n          :class=\"wallet == 'metamask' ? 'wallet-content-active' : ''\"\n          @click=\"selectWallet('metamask')\"\n        >\n          <div class=\"logo flex items-center text-warpper\">\n            <img src=\"../../../assets/img/metamask48.svg\">\n            <p>MetaMask</p>\n          </div>\n\n          <div class=\"img-wapper\">\n            <img src=\"../../../assets/img/check-blue-24.png\">\n          </div>\n        </div>\n        <div\n          class=\"wallet-content flex items-center justify-between\"\n          :class=\"wallet == 'walletconnect' ? 'wallet-content-active' : ''\"\n          @click=\"selectWallet('walletconnect')\"\n        >\n          <div class=\"logo flex items-center text-warpper\">\n            <img src=\"../../../assets/img/walletconnect-hexagon-blue.svg\">\n            <p>WalletConnect</p>\n          </div>\n\n          <div class=\"img-wapper\">\n            <img src=\"../../../assets/img/check-blue-24.png\">\n          </div>\n        </div>\n        <Buttons @click.native=\"connectWallet(wallet)\">\n          Connect Wallet\n        </Buttons>\n      </div>\n    </modal>\n  </div>\n  </Modal>\n  </div>\n</template>\n\n<script>\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport Cookies from 'js-cookie';\nimport event from '@/common/js/event';\nimport chainConfig from '@/config/config.js';\n\nexport default {\n  inject: ['reload'],\n  components: {\n    Buttons: () => import('@/components/basic/buttons'),\n  },\n  data() {\n    return {\n      openWalletDialog: false,\n      wallet: '',\n    };\n  },\n  methods: {\n    selectWallet(wallet) {\n      this.wallet = wallet;\n      Cookies.set('usewalletname', wallet, { expires: 365, path: '/' });\n      \n      this.$store.commit('WalletName', wallet);\n    },\n    open() {\n      this.openWalletDialog = true;\n      const usewalletname = Cookies.get('usewalletname');\n        if(usewalletname){\n          this.wallet = usewalletname;\n        }\n    },\n    connectWallet(name) {\n      if(name === 'metamask'){\n         this.getEthAuth();\n       }else if(name === 'walletconnect'){\n         this.getwalletconnectAuth();\n       }\n      \n    },\n\n    // 获取metamask授权\n    async getEthAuth() {\n      try {\n        // 请求用户授权\n        const res = await window.ethereum.enable();\n        this.$store.commit('changeEthAddress', res[0]);\n        // await this.initEth();\n        this.openWalletDialog = false;\n        this.reload();\n      } catch (error) {\n        console.log(error);\n        this.$Notice.warning({\n                title: this.$t('notice.n'),\n                desc: this.$t('notice.n11'),\n              });\n      }\n    },\n\n    getLambAuth() {\n      console.log('lambda');\n    },\n    async getwalletconnectAuth() {\n      try {\n        // 请求用户授权\n        const provider = new WalletConnectProvider({\n          rpc: chainConfig.walletconnectRPC,\n          chainId:chainConfig.getChainID() \n        });\n        console.log('provider',provider);\n        // await provider.disconnect();\n        const res = await provider.enable();\n        this.$store.commit('changeEthAddress', res[0]);\n        this.$store.commit('changeWalletConnectprovider', provider);\n        \n        event.$emit('initpageEth');\n        this.openWalletDialog = false;\n        this.reload();\n      } catch (error) {\n        event.$emit('initpageEth');\n        \n        console.log(error);\n        this.reload();\n      }\n    }\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.modal-content {\n  // width: 500px;\n  // padding: 24px 44px;\n  .button-wrapper {\n    height: 48px;\n    margin-top: 30px;\n    button {\n      font-size: 16px;\n    }\n  }\n  .title {\n    font-size: 24px;\n    font-weight: 500;\n    color: #14171c;\n    line-height: 50px;\n  }\n  .wallet-content {\n    cursor: pointer;\n    padding: 16px;\n    margin-top: 15px;\n    background: #f7f8f9;\n    width: 100%;\n    height: 64px;\n    border-radius: 6px;\n    .text-warpper {\n      img {\n        margin-right: 16px;\n      }\n      p {\n        font-size: 16px;\n        font-weight: 500;\n        color: #14171c;\n        line-height: 19px;\n      }\n    }\n    .img-wapper {\n      display: none;\n    }\n  }\n  .wallet-content-active {\n    border: 1px solid #605AA5;\n    .img-wapper {\n      display: block;\n    }\n  }\n  .logo {\n    img {\n      max-width: 32px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./walletDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./walletDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./walletDialog.vue?vue&type=template&id=31e12104&scoped=true&\"\nimport script from \"./walletDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./walletDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./walletDialog.vue?vue&type=style&index=0&id=31e12104&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31e12104\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./walletDialog.vue?vue&type=style&index=0&id=31e12104&lang=less&scoped=true&\""],"sourceRoot":""}