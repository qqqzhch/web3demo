(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79ae8cac"],{1488:function(t,e,n){},"46cc":function(t,e,n){"use strict";n("1488")},"9ed8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pledge-dialog"},[n("Modal",{attrs:{"class-name":"pledge-modal",transfer:!1,"footer-hide":!0,closable:!0},model:{value:t.openPledgeDialog,callback:function(e){t.openPledgeDialog=e},expression:"openPledgeDialog"}},[n("div",{staticClass:"pledge-content"},[n("p",{staticClass:"title text-center"},[t._v(" "+t._s(t.$t("stability.stake"))+" ")]),n("div",{staticClass:"pledge-wrapper"},[n("div",{staticClass:"title-content"},[n("span",{staticClass:"card-title"},[t._v(t._s(t.$t("earn.dialog.stakeDialog.amount")))]),n("div",{staticClass:"balance-item"},[n("span",{staticClass:"mr-2 text-secondary"},[t._v(t._s(t.$t("earn.dialog.stakeDialog.balance")))]),n("span",[t._v(t._s(t.balance)+" "+t._s(t.LAI))])])]),n("div",{staticClass:"pledge-wrapper flex"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.pledgeAmount,expression:"pledgeAmount",modifiers:{number:!0}}],staticClass:"amount-input",attrs:{type:"number"},domProps:{value:t.pledgeAmount},on:{input:[function(e){e.target.composing||(t.pledgeAmount=t._n(e.target.value))},t.handleInput],blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"percentage"},[n("div",{on:{click:function(e){return t.percentage(.25)}}},[t._v(" 25% ")]),n("div",{on:{click:function(e){return t.percentage(.5)}}},[t._v(" 50% ")]),n("div",{on:{click:function(e){return t.percentage(.75)}}},[t._v(" 75% ")]),n("div",{on:{click:function(e){return t.percentage(1)}}},[t._v(" "+t._s(t.$t("earn.dialog.stakeDialog.max"))+" ")])])]),n("div",{staticClass:"price-wrapper"},[n("div",{staticClass:"price-item flex justify-between items-center"},[n("span",[t._v(t._s(t.$t("earn.dialog.stakeDialog.willStake")))]),n("p",[t._v(t._s(t.pledgeAmount||0)+" "+t._s(t.LAI))])])]),n("div",{staticClass:"btn-wrapper"},[!1===t.sendLoading?n("Buttons",{attrs:{height:"48px"},nativeOn:{click:function(e){return t.stakeLQTStabilityPool(e)}}},[t._v(" "+t._s(t.$t("earn.dialog.stakeDialog.confirm"))+" ")]):n("Buttons",{attrs:{height:"48px"}},[t._v(" "+t._s(t.$t("earn.dialog.loading"))+" ")])],1)])])],1)},i=[],s=n("1da1"),o=n("5530"),c=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("25f0"),n("ac1f"),n("466d"),n("2f62")),l=n("5bed"),r={components:{Buttons:function(){return n.e("chunk-2d225272").then(n.bind(null,"e2d3"))}},data:function(){return{openPledgeDialog:!1,pledgeAmount:"",data:{},previousData:"",sendLoading:!1,balance:0}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])(["LAI"])),Object(c["c"])("pool",["liquity"])),{},{liquityInstance:function(){var t=this.liquity&&this.liquity.send;return t}}),methods:{open:function(t){this.pledgeAmount="",this.balance=t,this.openPledgeDialog=!0},stakeLQTStabilityPool:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.checkData()){e.next=2;break}return e.abrupt("return",!1);case 2:return t.sendLoading=!0,e.prev=3,e.next=6,t.liquityInstance.depositLUSDInStabilityPool(t.pledgeAmount,t.AddressZero,{gasLimit:t.$globalConfig.gasLimit});case 6:n=e.sent,l["a"].$emit("sendSuccess"),t.openPledgeDialog=!1,l["a"].$emit("sendtx",[n.rawSentTransaction,{okinfo:"".concat(t.$t("common.stake")," ").concat(t.pledgeAmount," LAI ").concat(t.$t("notice.n42")),failinfo:"".concat(t.$t("common.stake")," ").concat(t.pledgeAmount," LAI  ").concat(t.$t("notice.n43"))}]),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3);case 15:return e.prev=15,t.openPledgeDialog=!1,t.sendLoading=!1,e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[3,12,15,19]])})))()},percentage:function(t){var e=this.$BigNumber(this.balance),n=this.$BigNumber(t);this.pledgeAmount=e.multipliedBy(n).decimalPlaces(6).toNumber()},handleInput:function(t){var e=t.target.value.toString(),n=/^\d*(\.\d{1,6})?$/;e.match(n)||""===this.pledgeAmount||(this.pledgeAmount=this.previousData),this.previousData=this.pledgeAmount},checkData:function(){var t=this.balance,e=this.$BigNumber(t),n=this.$BigNumber(this.pledgeAmount);return""===this.pledgeAmount?(this.$Notice.warning({title:this.$t("notice.n"),desc:this.$t("notice.n30")}),!1):parseFloat(this.pledgeAmount)<=0?(this.$Notice.warning({title:this.$t("notice.n"),desc:this.$t("notice.n31")}),!1):!n.isGreaterThan(e)||(this.$Notice.warning({title:this.$t("notice.n"),desc:this.$t("notice.n29")}),!1)}}},u=r,d=(n("46cc"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,"71097ad0",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-79ae8cac.99388d8a.js.map