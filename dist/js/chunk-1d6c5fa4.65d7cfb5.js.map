{"version":3,"sources":["webpack:///./src/views/vault/balance/dialog/burn/index.vue?773c","webpack:///./src/views/vault/balance/dialog/burn/index.js","webpack:///./src/views/vault/balance/dialog/burn","webpack:///./src/views/vault/balance/dialog/burn/index.vue?c0ff","webpack:///./src/assets/img/closeBtn.svg","webpack:///./src/views/vault/balance/dialog/burn/index.vue?d8f5","webpack:///./src/assets/img/wenhao.svg","webpack:///./src/views/vault/components/ScInput.vue?11fa","webpack:///src/views/vault/components/ScInput.vue","webpack:///./src/views/vault/components/ScInput.vue?d8f1","webpack:///./src/views/vault/components/ScInput.vue?2a40","webpack:///./src/views/vault/components/ScInput.vue?4859","webpack:///./src/assets/img/arrow-left.svg","webpack:///./src/assets/img/notice-red.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","isOpen","expression","step","on","onMintClick","_v","_s","$t","_e","_f","LAIBalance","poolData","stableName","onChangeValue","checkValue","getTokenImg","changeStep","coinAmount","debtAmount","class","newDebt","collateralRatio","BigNumber","times","toFixed","newCollateralRatio","onNextClick","btnLoading","onBurnClick","closeDialog","staticRenderFns","inject","data","components","ScInput","computed","mapState","minus","toNumber","depositAmount","$parent","getTroveIndicators","isLessThan","i18n","t","isNaN","validate","methods","token","open","getLAIBalance","params","tokenName","chainID","ethChainID","library","ethersprovider","account","ethAddress","web3","fetchTokenBalance","openMintDialog","type","liquityState","unit","fetchAdjustBalanace","tx","sendtx","component","module","exports","focus","isError","title","directives","name","rawName","placetext","disabled","domProps","onInputFocus","onInputBlur","$event","target","composing","inputVal"],"mappings":"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","file":"js/chunk-1d6c5fa4.65d7cfb5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dialog-wrap\"},[_c('Modal',{attrs:{\"class-name\":\"valut-modal\",\"transfer\":true,\"footer-hide\":true,\"closable\":false},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('div',{staticClass:\"modal-content\"},[(_vm.step === 1)?_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"tab-warpper\"},[_c('button',{staticClass:\"tab tab-disabled\",on:{\"click\":_vm.onMintClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-buildr'))+\" \")])]),_c('div',{staticClass:\"tab-warpper\"},[_c('button',{staticClass:\"tab\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-payback'))+\" \")])])]):_vm._e(),_c('div',{staticClass:\"padding-warpper\"},[(_vm.step === 1)?_c('div',{staticClass:\"step-one\"},[_c('div',{staticClass:\"grid-2\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('build-Amount')))]),_c('p',[_c('span',[_vm._v(_vm._s(_vm.$t('build-balance'))+\"：\")]),_vm._v(\" \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.LAIBalance))+\" \"+_vm._s(_vm.poolData.stableName))])]),_c('div',{staticClass:\"input-warpper\"},[_c('ScInput',{attrs:{\"unit\":_vm.poolData.stableName,\"on-change\":_vm.onChangeValue,\"is-error\":_vm.checkValue}}),_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.poolData.stableName)}})],1),(_vm.checkValue)?_c('div',{staticClass:\"notice-warpper\"},[_c('div',{staticClass:\"notice-content\"},[_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/notice-red.png\")}}),_c('p',[_vm._v(_vm._s(_vm.checkValue))])])]):_vm._e(),(!_vm.checkValue)?_c('div',{staticClass:\"notice\"},[_c('span',[_vm._v(_vm._s(_vm.$t('build-payback-scUSD')))]),_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/wenhao.svg\"),\"alt\":\"?\"}})]):_vm._e()]):_vm._e(),(_vm.step === 2)?_c('div',{staticClass:\"step-two\"},[_c('div',{staticClass:\"title-warpper\"},[_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/arrow-left.svg\"),\"alt\":\"arrow\"},on:{\"click\":_vm.changeStep}}),_c('h2',[_vm._v(_vm._s(_vm.$t('build-confirm')))])]),_c('div',{staticClass:\"confirm-content flex flex-col items-center\"},[_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.poolData.stableName)}}),_c('h2',[_vm._v(_vm._s(_vm.coinAmount))]),_c('p',[_vm._v(_vm._s(_vm.poolData.stableName))]),_c('span',[_vm._v(_vm._s(_vm.$t('build-will-payback')))])])]):_vm._e(),_c('div',{staticClass:\"items-content\"},[_c('ul',[_c('li',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-debt'))+\"： \")]),_c('li',[_c('span',[_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.poolData.debtAmount)))]),_vm._v(\" \"+_vm._s(_vm.$t('build-to'))+\" \"),_c('span',{class:{\n                  'f-green': _vm.newDebt > _vm.poolData.debtAmount,\n                  'f-danger': _vm.newDebt < _vm.poolData.debtAmount\n                }},[_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.newDebt))+\" \"+_vm._s(_vm.poolData.stableName))])])]),_c('ul',[_c('li',{staticClass:\"title flex\"},[_c('span',[_vm._v(_vm._s(_vm.$t('build-coll-ratio'))+\":\")])]),(_vm.poolData.collateralRatio)?_c('li',[_c('span',{class:{\n                  'f-green': _vm.poolData.collateralRatio >= 1.5,\n                  'f-warning': _vm.poolData.collateralRatio < 1.5 && _vm.poolData.collateralRatio >= 1.2,\n                  'f-danger': _vm.poolData.collateralRatio < 1.2\n                }},[_vm._v(_vm._s(_vm.BigNumber(_vm.poolData.collateralRatio).times(100).toFixed(2))+\"%\")]),_vm._v(\" \"+_vm._s(_vm.$t('build-to'))+\" \"),_c('span',{class:{\n                  'f-green': _vm.newCollateralRatio >= 1.5,\n                  'f-warning': _vm.newCollateralRatio < 1.5 && _vm.newCollateralRatio >= 1.2,\n                  'f-danger': _vm.newCollateralRatio < 1.2\n                }},[_vm._v(_vm._s(_vm.BigNumber(_vm.newCollateralRatio).times(100).toFixed(2))+\"%\")])]):_c('li',[_c('span',[_vm._v(\"0% \"+_vm._s(_vm.$t('build-to'))+\" 0%\")])])])]),_c('div',{staticClass:\"button-warpper\"},[(_vm.step === 1 && !_vm.checkValue)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.onNextClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-next'))+\" \")]):_vm._e(),(_vm.step === 1 && _vm.checkValue)?_c('button',{staticClass:\"btn btn-disabled\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-next'))+\" \")]):_vm._e(),(_vm.step === 2 && !_vm.btnLoading)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.onBurnClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-confirm'))+\" \")]):_vm._e(),(_vm.step === 2 && _vm.btnLoading)?_c('button',{staticClass:\"btn\"},[_vm._v(\" Loading... \")]):_vm._e()]),(_vm.step === 1)?_c('div',{staticClass:\"close-warpper\"},[_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/closeBtn.svg\"),\"alt\":\"closeBtn\"},on:{\"click\":_vm.closeDialog}})]):_vm._e()])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\nimport ScInput from '../../../components/ScInput.vue';\nimport { fetchAdjustBalanace } from '@/contactLogic/buildr/liquity';\nimport BigNumber from \"bignumber.js\";\nimport i18n from '../../../../../i18n/index.js';\nimport { fetchTokenBalance } from '@/contactLogic/buildr/create';\n\nexport default {\n  inject: ['reload'],\n  data() {\n    return {\n      step: 1,\n      isOpen: false,\n      coinAmount: 0,  // 当前抵押资产的数量\n      poolData: {},  // 父组件传过来的数据\n      BigNumber,\n      LAIBalance: 0,  // 账户余额\n      btnLoading: false,\n    };\n  },\n  components: {\n    ScInput,\n  },\n  computed: {\n    ...mapState(['web3', 'ethersprovider', 'ethChainID', 'ethAddress']),\n    // 计算增加的存款额度\n    newDebt() {\n      return BigNumber(this.poolData.debtAmount).minus(this.coinAmount).toNumber();\n    },\n    // 新的抵押率\n    newCollateralRatio() {\n      const { depositAmount } = this.poolData;\n      const { collateralRatio } = this.checkValue ? {collateralRatio: 0} : this.$parent.getTroveIndicators(depositAmount, this.newDebt);\n      return collateralRatio;\n    },\n    // 验证输入值\n    checkValue() {\n      if(BigNumber(this.coinAmount).isLessThan(0)) {\n        return i18n.t('notice.swapNotice.n2');\n      } else if (isNaN(this.coinAmount)) {\n        return i18n.t('notice.buidrNotice.n1');\n      } else {\n        return this.$parent.validate(this.poolData.depositAmount, this.newDebt);\n      }\n    }\n  },\n  methods: {\n    getTokenImg(token) {\n      return this.$parent.getTokenImg(token);\n    },\n    // 打开弹窗\n    open(poolData) {\n      this.poolData = poolData;\n      this.isOpen = true;\n      this.step = 1;\n      this.coinAmount = 0;\n      this.getLAIBalance();\n    },\n    async getLAIBalance() {\n      const params = {\n        tokenName: 'LAI',\n        chainID: this.ethChainID,\n        library: this.ethersprovider,\n        account:  this.ethAddress,\n        web3: this.web3,\n      };\n      this.LAIBalance = await fetchTokenBalance(params);\n    },\n    //关闭弹窗\n    closeDialog(){\n      this.isOpen = false;\n      this.coinAmount = 0;\n    },\n    //确认弹窗返回按钮\n    changeStep(){\n      this.step = 1;\n      this.coinAmount = 0;\n    },\n    onMintClick() {\n      this.isOpen = false;\n      this.coinAmount = 0;\n      this.$parent.openMintDialog(this.poolData);\n    },\n    onChangeValue(value) {\n      // 销毁的scUSD\n      this.coinAmount = value;\n    },\n    onNextClick() {\n      this.step = 2;\n    },\n    async onBurnClick() {\n      const params = {\n        type: 'repay',\n        liquityState: this.poolData.liquityState,\n        tokenName: this.poolData.tokenName,\n        chainID: this.ethChainID,\n        library: this.ethersprovider,\n        account:  this.ethAddress,\n        web3: this.web3,\n        coinAmount: this.coinAmount,\n        unit:this.poolData.stableName,\n      };\n\n      this.btnLoading = true;\n      try {\n        const tx = await fetchAdjustBalanace(params);\n        this.$parent.sendtx(tx);\n        this.isOpen = false;\n      } catch (e) {\n        this.btnLoading = false;\n      }\n    }\n  },\n};\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=542519df&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=542519df&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"542519df\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/closeBtn.9647d73b.svg\";","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=542519df&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/wenhao.ae15efd2.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'input-group': true, 'input-focus': _vm.focus, 'input-error': _vm.isError}},[(_vm.title)?_c('div',{staticClass:\"input-prepend\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputVal),expression:\"inputVal\"}],class:{'input-inner': true, 'no-title': !_vm.title},attrs:{\"type\":\"input\",\"name\":\"repay\",\"autoComplete\":\"off\",\"placeholder\":_vm.placetext,\"disabled\":_vm.disabled},domProps:{\"value\":(_vm.inputVal)},on:{\"focus\":_vm.onInputFocus,\"blur\":_vm.onInputBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.inputVal=$event.target.value}}}),_c('div',{staticClass:\"input-append\"},[_vm._v(\" \"+_vm._s(_vm.unit)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{'input-group': true, 'input-focus': focus, 'input-error': isError}\">\n    <div\n      v-if=\"title\"\n      class=\"input-prepend\"\n    >\n      {{ title }}\n    </div>\n    <input\n      v-model=\"inputVal\"\n      type=\"input\"\n      name=\"repay\"\n      autoComplete=\"off\"\n      :class=\"{'input-inner': true, 'no-title': !title}\"\n      :placeholder=\"placetext\"\n      :disabled=\"disabled\"\n      @focus=\"onInputFocus\"\n      @blur=\"onInputBlur\"\n    >\n    <div class=\"input-append\">\n      {{ unit }}\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'ScInput',\n    props: ['title', 'unit', 'placetext', 'disabled', 'onChange', 'defaultValue', 'isError'],\n    data() {\n      return {\n        inputVal: '',\n        focus: false\n      };\n    },\n    methods: {\n      onInputFocus() {\n        this.focus = true;\n      },\n      onInputBlur() {\n        this.focus = false;\n      },\n      onChangeValue(val){\n        const value = val || 0;\n        this.onChange && this.onChange(value);\n      }\n    },\n    watch: {\n      inputVal(val) {\n        this.onChangeValue(val);\n      },\n      defaultValue(val) {\n        this.inputVal = val;\n      }\n    },\n    created() {\n      this.onChangeValue(this.inputVal);\n    }\n  };\n\n</script>\n\n<style lang=\"less\" scoped>\n.input-group {\n    width: 100%;\n    display: inline-table;\n    border-collapse: separate;\n    border-spacing: 0;\n    font-size: 16px;\n    .input-prepend {\n      position: relative;\n      display: table-cell;\n      height: 70px;\n      width: 100px;\n      padding-top: 5px;\n      background-color: #F7F8F9;\n      color: #14171C;\n      vertical-align: middle;\n      text-align: center;\n      border: 1px solid #dcdfe6;\n      border-right: none;\n      border-radius: 8px;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n      white-space: nowrap;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .input-inner {\n      display: inline-block;\n      background-color: #F7F8F9;\n      border: 1px solid #dcdfe6;\n      border-left: none;\n      border-right: none;\n      box-sizing: border-box;\n      color: #0058FF;\n      font-size: 30px;\n      height: 70px;\n      outline: none;\n      padding: 20px 15px;\n      width: 100%;\n      vertical-align: middle;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .input-append {\n      position: relative;\n      display: table-cell;\n      vertical-align: middle;\n      padding-top: 5px;\n      width: 100px;\n      height: 70px;\n      background-color: #F7F8F9;\n      color: #14171C;\n      text-align: center;\n      border: 1px solid #dcdfe6;\n      border-left: none;\n      border-radius: 8px;\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n      white-space: nowrap;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .no-title {\n      border-left: 1px solid #dcdfe6;\n      border-radius: 8px;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n}\n.input-focus {\n  .input-prepend {\n    border: 1px solid #0058FF;\n    border-right: none;\n  }\n  .input-append {\n    border: 1px solid #0058FF;\n    border-left: none;\n  }\n  .input-inner {\n    border: 1px solid #0058FF;\n    border-left: none;\n    border-right: none;\n  }\n  .no-title {\n    border-left: 1px solid #0058FF;\n  }\n}\n.input-error {\n  .input-prepend {\n    border: 1px solid #ff3d00;\n    border-right: none;\n  }\n  .input-append {\n    border: 1px solid #ff3d00;\n    border-left: none;\n  }\n  .input-inner {\n    border: 1px solid #ff3d00;\n    border-left: none;\n    border-right: none;\n  }\n  .no-title {\n    border-left: 1px solid #ff3d00;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScInput.vue?vue&type=template&id=1c42f5ce&scoped=true&\"\nimport script from \"./ScInput.vue?vue&type=script&lang=js&\"\nexport * from \"./ScInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScInput.vue?vue&type=style&index=0&id=1c42f5ce&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c42f5ce\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=style&index=0&id=1c42f5ce&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/arrow-left.e1aaf66f.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAqklEQVQoU2NkgIL/oQxsDC8Y0hn+M0QzMDBoQYWvMTAyLGWQYJjJuJrhF0iMEUT8t2SQZmBm2MLAwGAAMwCNvsDwl8GH8TjDU0awyc8ZTqIoNnSAqD9/AFnfBQZJBnPG/7YMuQz/GSahmJjYAOHOh9IwSUaGPMb/NgwnGBgYzInSwMBwEqThEwMDAy+RGj6TpQHTSdg9DXLESeyexqUB7GlSg5XkiCM1aQAAzyZIc7QaxZMAAAAASUVORK5CYII=\""],"sourceRoot":""}