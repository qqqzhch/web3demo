(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18cd2385"],{"2c29":function(t,a,e){t.exports=e.p+"img/closeBtn.9647d73b.svg"},"5d6d":function(t,a,e){t.exports=e.p+"img/wenhao.ae15efd2.svg"},"90ec":function(t,a,e){"use strict";e("9dd8")},"9dd8":function(t,a,e){},f621:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"dialog-wrap"},[n("Modal",{attrs:{"class-name":"valut-modal",transfer:!0,"footer-hide":!0,closable:!1},model:{value:t.isOpen,callback:function(a){t.isOpen=a},expression:"isOpen"}},[n("div",{staticClass:"modal-content"},[t.loading?t._e():n("div",{staticClass:"padding-warpper"},[n("div",{staticClass:"step-two"},[n("div",{staticClass:"title-warpper"},[n("h2",[t._v("Close Vault")])]),n("div",{staticClass:"confirm-content flex flex-col items-center"},[n("div",[n("img",{attrs:{src:t.getTokenImg(t.poolData.tokenName)}}),n("h2",[t._v(t._s(t._f("formatNormalValue")(t.poolData.depositAmount)))]),n("p",[t._v(t._s(t.poolData.tokenName))]),n("span",[t._v(t._s(t.$t("vault-will-withdraw")))])]),n("div",[n("img",{attrs:{src:t.getTokenImg(t.poolData.stableName),width:"48px"}}),n("h2",[t._v(t._s(t._f("formatNormalValue")(t.poolData.debtAmount)))]),n("p",[t._v(t._s(t.poolData.stableName))]),n("span",[t._v(t._s(t.$t("build-will-payback")))])])])]),n("div",{staticClass:"items-content"},[n("ul",[n("li",{staticClass:"title"},[t._v(" "+t._s(t.$t("build-debt"))+"： ")]),n("li",[n("span",[t._v(t._s(t._f("formatNormalValue")(t.poolData.debtAmount))+" "+t._s(t.poolData.stableName))])])]),n("ul",[n("li",{staticClass:"title"},[t._v(" "+t._s(t.$t("vault-lai-balance"))+"： ")]),n("li",[n("span",[t._v(t._s(t._f("formatNormalValue")(t.LAIBalance))+" "+t._s(t.poolData.stableName))])])]),n("ul",[n("li",{staticClass:"title"},[t._v(" "+t._s(t.$t("vault-liquidation-reserve"))+"： ")]),n("li",[n("span",[t._v(t._s(t._f("formatNormalValue")(t.poolData.liquidationReserve))+" "+t._s(t.poolData.stableName))])])]),n("ul",[n("li",{staticClass:"title flex"},[n("span",[t._v(t._s(t.$t("build-coll-ratio"))+":")]),n("img",{attrs:{src:e("5d6d")}})]),t.poolData.collateralRatio?n("li",[n("span",{class:{"f-green":t.poolData.collateralRatio>=1.5,"f-warning":t.poolData.collateralRatio<1.5&&t.poolData.collateralRatio>=1.2,"f-danger":t.poolData.collateralRatio<1.2}},[t._v(t._s(t.BigNumber(t.poolData.collateralRatio).times(100).toFixed(2))+"%")])]):n("li",[n("span",[t._v("0% "+t._s(t.$t("build-to"))+" 0%")])])])]),t.shortDebt<0?n("div",{staticClass:"notice-warpper"},[n("div",{staticClass:"notice-content"},[n("img",{attrs:{src:e("fb2e")}}),n("p",[t._v(t._s("You need "+Number(-t.shortDebt).toFixed(2)+" "+t.poolData.stableName+" more to close your Vault"))])])]):t._e(),n("div",{staticClass:"button-warpper"},[t.shortDebt>=0&&!t.btnLoading?n("button",{staticClass:"btn",on:{click:t.onCloseTroveClick}},[t._v(" "+t._s(t.$t("build-confirm"))+" ")]):t._e(),t.shortDebt>=0&&t.btnLoading?n("button",{staticClass:"btn"},[t._v(" Loading... ")]):t._e()]),t.shortDebt<0?n("button",{staticClass:"btn btn-disabled"},[t._v(" "+t._s(t.$t("build-confirm"))+" ")]):t._e(),n("div",{staticClass:"close-warpper"},[n("img",{attrs:{src:e("2c29"),alt:"closeBtn"},on:{click:t.closeDialog}})])]),t.loading?n("div",{staticClass:"padding-warpper"},[n("Loading")],1):t._e()])])],1)},o=[],s=e("1da1"),i=e("5530"),l=(e("96cf"),e("d3b7"),e("3ca3"),e("ddb0"),e("2f62")),r=e("97a5"),c=e("901e"),u=e.n(c),d=e("1062"),p={inject:["reload"],data:function(){return{isOpen:!1,poolData:{},BigNumber:u.a,LAIBalance:0,loading:!0,btnLoading:!1}},components:{Loading:function(){return e.e("chunk-6f442e8e").then(e.bind(null,"83ab0"))}},computed:Object(i["a"])(Object(i["a"])({},Object(l["c"])(["web3","ethersprovider","ethChainID","ethAddress"])),{},{shortDebt:function(){var t=this.poolData,a=t.debtAmount,e=t.liquidationReserve;return u()(this.LAIBalance).minus(u()(a).minus(e))}}),methods:{getTokenImg:function(t){return this.$parent.getTokenImg(t)},open:function(t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.poolData=t,a.isOpen=!0,a.getLAIBalance();case 3:case"end":return e.stop()}}),e)})))()},getLAIBalance:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e={tokenName:"LAI",chainID:t.ethChainID,library:t.ethersprovider,account:t.ethAddress,web3:t.web3},a.next=3,Object(d["b"])(e);case 3:t.LAIBalance=a.sent,t.loading=!1;case 5:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.isOpen=!1},onCloseTroveClick:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e={chainID:t.ethChainID,library:t.ethersprovider,account:t.ethAddress},t.btnLoading=!0,a.prev=2,a.next=5,Object(r["c"])(e);case 5:n=a.sent,t.$parent.sendtx(n),t.isOpen=!1,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),t.btnLoading=!1;case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()}}},b=p,m=(e("90ec"),e("2877")),v=Object(m["a"])(b,n,o,!1,null,"6c8049cb",null);a["default"]=v.exports},fb2e:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAqklEQVQoU2NkgIL/oQxsDC8Y0hn+M0QzMDBoQYWvMTAyLGWQYJjJuJrhF0iMEUT8t2SQZmBm2MLAwGAAMwCNvsDwl8GH8TjDU0awyc8ZTqIoNnSAqD9/AFnfBQZJBnPG/7YMuQz/GSahmJjYAOHOh9IwSUaGPMb/NgwnGBgYzInSwMBwEqThEwMDAy+RGj6TpQHTSdg9DXLESeyexqUB7GlSg5XkiCM1aQAAzyZIc7QaxZMAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-18cd2385.bfa3d0d7.js.map