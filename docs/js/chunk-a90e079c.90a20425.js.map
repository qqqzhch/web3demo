{"version":3,"sources":["webpack:///./src/assets/img/closeBtn.svg","webpack:///./src/assets/img/wenhao.svg","webpack:///./src/views/vault/components/ScInput.vue?11fa","webpack:///src/views/vault/components/ScInput.vue","webpack:///./src/views/vault/components/ScInput.vue?d8f1","webpack:///./src/views/vault/components/ScInput.vue?2a40","webpack:///./src/views/vault/components/ScInput.vue?4859","webpack:///./src/views/vault/balance/dialog/mint/index.vue?66fd","webpack:///./src/views/vault/balance/dialog/mint/index.js","webpack:///./src/views/vault/balance/dialog/mint","webpack:///./src/views/vault/balance/dialog/mint/index.vue?6830","webpack:///./src/views/vault/balance/dialog/mint/index.vue?265a","webpack:///./src/assets/img/arrow-left.svg","webpack:///./src/assets/img/notice-red.png"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","class","focus","isError","staticClass","_v","_s","title","_e","directives","name","rawName","value","expression","attrs","placetext","disabled","domProps","on","onInputFocus","onInputBlur","$event","target","composing","inputVal","unit","staticRenderFns","component","model","callback","$$v","isOpen","step","$t","onBurnClick","_f","LAIBalance","poolData","stableName","onChangeValue","checkValue","getTokenImg","changeStep","coinAmount","debtAmount","totalDebt","debtFee","BigNumber","borrowingRate","times","toFixed","collateralRatio","newCollateralRatio","onNextClick","btnLoading","onMintClick","closeDialog","data","components","ScInput","computed","mapState","feeRate","newDebt","div","plus","toNumber","depositAmount","$parent","getTroveIndicators","isLessThan","i18n","t","isNaN","validate","methods","mapActions","token","open","getLAIBalance","params","tokenName","chainID","ethChainID","library","ethersprovider","account","ethAddress","web3","fetchTokenBalance","setCurrentPool","openBurnDialog","type","liquityState","fetchAdjustBalanace","tx","sendtx"],"mappings":"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","file":"js/chunk-a90e079c.90a20425.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/closeBtn.9647d73b.svg\";","module.exports = __webpack_public_path__ + \"img/wenhao.ae15efd2.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'input-group': true, 'input-focus': _vm.focus, 'input-error': _vm.isError}},[(_vm.title)?_c('div',{staticClass:\"input-prepend\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputVal),expression:\"inputVal\"}],class:{'input-inner': true, 'no-title': !_vm.title},attrs:{\"type\":\"input\",\"name\":\"repay\",\"autoComplete\":\"off\",\"placeholder\":_vm.placetext,\"disabled\":_vm.disabled},domProps:{\"value\":(_vm.inputVal)},on:{\"focus\":_vm.onInputFocus,\"blur\":_vm.onInputBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.inputVal=$event.target.value}}}),_c('div',{staticClass:\"input-append\"},[_vm._v(\" \"+_vm._s(_vm.unit)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{'input-group': true, 'input-focus': focus, 'input-error': isError}\">\n    <div\n      v-if=\"title\"\n      class=\"input-prepend\"\n    >\n      {{ title }}\n    </div>\n    <input\n      v-model=\"inputVal\"\n      type=\"input\"\n      name=\"repay\"\n      autoComplete=\"off\"\n      :class=\"{'input-inner': true, 'no-title': !title}\"\n      :placeholder=\"placetext\"\n      :disabled=\"disabled\"\n      @focus=\"onInputFocus\"\n      @blur=\"onInputBlur\"\n    >\n    <div class=\"input-append\">\n      {{ unit }}\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'ScInput',\n    props: ['title', 'unit', 'placetext', 'disabled', 'onChange', 'defaultValue', 'isError'],\n    data() {\n      return {\n        inputVal: '',\n        focus: false\n      };\n    },\n    methods: {\n      onInputFocus() {\n        this.focus = true;\n      },\n      onInputBlur() {\n        this.focus = false;\n      },\n      onChangeValue(val){\n        const value = val || 0;\n        this.onChange && this.onChange(value);\n      }\n    },\n    watch: {\n      inputVal(val) {\n        this.onChangeValue(val);\n      },\n      defaultValue(val) {\n        this.inputVal = val;\n      }\n    },\n    created() {\n      this.onChangeValue(this.inputVal);\n    }\n  };\n\n</script>\n\n<style lang=\"less\" scoped>\n.input-group {\n    width: 100%;\n    display: inline-table;\n    border-collapse: separate;\n    border-spacing: 0;\n    font-size: 16px;\n    .input-prepend {\n      position: relative;\n      display: table-cell;\n      height: 70px;\n      width: 100px;\n      padding-top: 5px;\n      background-color: #F7F8F9;\n      color: #14171C;\n      vertical-align: middle;\n      text-align: center;\n      border: 1px solid #dcdfe6;\n      border-right: none;\n      border-radius: 8px;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n      white-space: nowrap;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .input-inner {\n      display: inline-block;\n      background-color: #F7F8F9;\n      border: 1px solid #dcdfe6;\n      border-left: none;\n      border-right: none;\n      box-sizing: border-box;\n      color: #0058FF;\n      font-size: 30px;\n      height: 70px;\n      outline: none;\n      padding: 20px 15px;\n      width: 100%;\n      vertical-align: middle;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .input-append {\n      position: relative;\n      display: table-cell;\n      vertical-align: middle;\n      padding-top: 5px;\n      width: 100px;\n      height: 70px;\n      background-color: #F7F8F9;\n      color: #14171C;\n      text-align: center;\n      border: 1px solid #dcdfe6;\n      border-left: none;\n      border-radius: 8px;\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n      white-space: nowrap;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .no-title {\n      border-left: 1px solid #dcdfe6;\n      border-radius: 8px;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n}\n.input-focus {\n  .input-prepend {\n    border: 1px solid #0058FF;\n    border-right: none;\n  }\n  .input-append {\n    border: 1px solid #0058FF;\n    border-left: none;\n  }\n  .input-inner {\n    border: 1px solid #0058FF;\n    border-left: none;\n    border-right: none;\n  }\n  .no-title {\n    border-left: 1px solid #0058FF;\n  }\n}\n.input-error {\n  .input-prepend {\n    border: 1px solid #ff3d00;\n    border-right: none;\n  }\n  .input-append {\n    border: 1px solid #ff3d00;\n    border-left: none;\n  }\n  .input-inner {\n    border: 1px solid #ff3d00;\n    border-left: none;\n    border-right: none;\n  }\n  .no-title {\n    border-left: 1px solid #ff3d00;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScInput.vue?vue&type=template&id=1c42f5ce&scoped=true&\"\nimport script from \"./ScInput.vue?vue&type=script&lang=js&\"\nexport * from \"./ScInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScInput.vue?vue&type=style&index=0&id=1c42f5ce&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c42f5ce\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=style&index=0&id=1c42f5ce&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dialog-wrap\"},[_c('Modal',{attrs:{\"class-name\":\"valut-modal\",\"transfer\":true,\"title\":\"\",\"footer-hide\":true,\"closable\":false},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('div',{staticClass:\"modal-content\"},[(_vm.step === 1)?_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"tab-warpper\"},[_c('button',{staticClass:\"tab\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-buildr'))+\" \")])]),_c('div',{staticClass:\"tab-warpper\"},[_c('button',{staticClass:\"tab  tab-disabled\",on:{\"click\":_vm.onBurnClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-payback'))+\" \")])])]):_vm._e(),_c('div',{staticClass:\"padding-warpper\"},[(_vm.step === 1)?_c('div',{staticClass:\"step-one\"},[_c('div',{staticClass:\"grid-2\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('build-Amount')))]),_c('p',[_c('span',[_vm._v(_vm._s(_vm.$t('build-balance'))+\"：\")]),_vm._v(\" \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.LAIBalance))+\" \"+_vm._s(_vm.poolData.stableName))])]),_c('div',{staticClass:\"input-warpper\"},[_c('ScInput',{attrs:{\"unit\":_vm.poolData.stableName,\"on-change\":_vm.onChangeValue,\"is-error\":_vm.checkValue}}),_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.poolData.stableName)}})],1),(_vm.checkValue)?_c('div',{staticClass:\"notice-warpper\"},[_c('div',{staticClass:\"notice-content\"},[_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/notice-red.png\")}}),_c('p',[_vm._v(_vm._s(_vm.checkValue))])])]):_vm._e(),(!_vm.checkValue)?_c('div',{staticClass:\"notice\"},[_c('span',[_vm._v(_vm._s(_vm.$t('build-generate-scUSD')))]),_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/wenhao.svg\"),\"alt\":\"?\"}})]):_vm._e()]):_vm._e(),(_vm.step === 2)?_c('div',{staticClass:\"step-two\"},[_c('div',{staticClass:\"title-warpper\"},[_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/arrow-left.svg\"),\"alt\":\"arrow\"},on:{\"click\":_vm.changeStep}}),_c('h2',[_vm._v(_vm._s(_vm.$t('build-confirm')))])]),_c('div',{staticClass:\"confirm-content flex flex-col items-center\"},[_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.poolData.stableName)}}),_c('h2',[_vm._v(_vm._s(_vm.coinAmount))]),_c('p',[_vm._v(_vm._s(_vm.poolData.stableName))]),_c('span',[_vm._v(_vm._s(_vm.$t('build-will-send')))])])]):_vm._e(),_c('div',{staticClass:\"items-content\"},[_c('ul',[_c('li',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-debt'))+\"： \")]),_c('li',[_c('span',[_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.poolData.debtAmount)))]),_vm._v(\" \"+_vm._s(_vm.$t('build-to'))+\" \"),_c('span',{class:{\n                  'f-green': _vm.totalDebt > _vm.poolData.debtAmount,\n                  'f-danger': _vm.totalDebt < _vm.poolData.debtAmount\n                }},[_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.totalDebt))+\" \"+_vm._s(_vm.poolData.stableName))])])]),_c('ul',[_c('li',{staticClass:\"title\"},[_vm._v(\" Borrowing Fee: \")]),_c('li',[_c('span',[_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.debtFee))+\" \"+_vm._s(_vm.poolData.stableName)+\" \")]),_c('span',[_vm._v(\"(\"+_vm._s(_vm.BigNumber(_vm.poolData.borrowingRate).times(100).toFixed(2))+\"%)\")])])]),_c('ul',[_c('li',{staticClass:\"title flex\"},[_c('span',[_vm._v(_vm._s(_vm.$t('build-coll-ratio'))+\":\")])]),(_vm.poolData.collateralRatio)?_c('li',[_c('span',{class:{\n                  'f-green': _vm.poolData.collateralRatio >= 1.5,\n                  'f-warning': _vm.poolData.collateralRatio < 1.5 && _vm.poolData.collateralRatio >= 1.2,\n                  'f-danger': _vm.poolData.collateralRatio < 1.2\n                }},[_vm._v(_vm._s(_vm.BigNumber(_vm.poolData.collateralRatio).times(100).toFixed(2))+\"%\")]),_vm._v(\" \"+_vm._s(_vm.$t('build-to'))+\" \"),_c('span',{class:{\n                  'f-green': _vm.newCollateralRatio >= 1.5,\n                  'f-warning': _vm.newCollateralRatio < 1.5 && _vm.newCollateralRatio >= 1.2,\n                  'f-danger': _vm.newCollateralRatio < 1.2\n                }},[_vm._v(_vm._s(_vm.BigNumber(_vm.newCollateralRatio).times(100).toFixed(2))+\"%\")])]):_c('li',[_c('span',[_vm._v(\"0% \"+_vm._s(_vm.$t('build-to'))+\" 0%\")])])])]),_c('div',{staticClass:\"button-warpper\"},[(_vm.step === 1 && !_vm.checkValue)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.onNextClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-next'))+\" \")]):_vm._e(),(_vm.step === 1 && _vm.checkValue)?_c('button',{staticClass:\"btn btn-disabled\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-next'))+\" \")]):_vm._e(),(_vm.step === 2 && !_vm.btnLoading)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.onMintClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-confirm'))+\" \")]):_vm._e(),(_vm.step === 2 && _vm.btnLoading)?_c('button',{staticClass:\"btn\"},[_vm._v(\" Loading... \")]):_vm._e()]),(_vm.step === 1)?_c('div',{staticClass:\"close-warpper\"},[_c('img',{attrs:{\"src\":require(\"../../../../../assets/img/closeBtn.svg\"),\"alt\":\"closeBtn\"},on:{\"click\":_vm.closeDialog}})]):_vm._e()])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState, mapActions } from \"vuex\";\nimport ScInput from '../../../components/ScInput.vue';\nimport { fetchAdjustBalanace } from '@/contactLogic/buildr/liquity';\nimport BigNumber from \"bignumber.js\";\nimport i18n from '../../../../../i18n/index.js';\nimport { fetchTokenBalance } from '@/contactLogic/buildr/create';\n\nexport default {\n  data() {\n    return {\n      step: 1,\n      isOpen: false,\n      coinAmount: 0,  // 当前抵押资产的数量\n      poolData: {},  // 父组件传过来的数据\n      BigNumber,\n      LAIBalance: 0,  // 账户余额\n      btnLoading: false,\n    };\n  },\n  components: {\n    ScInput\n  },\n  computed: {\n    ...mapState(['web3', 'ethersprovider', 'ethChainID', 'ethAddress']),\n    // 计算Fee\n    debtFee() {\n      const feeRate = this.poolData.borrowingRate ? this.poolData.borrowingRate : 0;\n      return BigNumber(this.coinAmount).times(feeRate);\n    },\n    newDebt() {\n      return BigNumber(this.coinAmount).div(BigNumber(1).plus(this.poolData.borrowingRate)).toNumber();\n    },\n    // 计算总借款额度\n    totalDebt() {\n      return BigNumber(this.poolData.debtAmount).plus(this.coinAmount).toNumber();\n    },\n    // 新的抵押率\n    newCollateralRatio() {\n      const { depositAmount } = this.poolData;\n      const { collateralRatio } = this.checkValue ? {collateralRatio: 0} : this.$parent.getTroveIndicators(depositAmount, this.totalDebt);\n      return collateralRatio;\n    },\n    // 验证输入值\n    checkValue() {\n      if(BigNumber(this.coinAmount).isLessThan(0)) {\n        return i18n.t('notice.swapNotice.n2');\n      } else if (isNaN(this.coinAmount)) {\n        return i18n.t('notice.buidrNotice.n1');\n      } else {\n        return this.$parent.validate(this.poolData.depositAmount, this.totalDebt);\n      }\n    }\n  },\n  methods: {\n    ...mapActions('buildr', ['setCurrentPool']),\n    getTokenImg(token) {\n      return this.$parent.getTokenImg(token);\n    },\n    open(poolData) {\n      this.poolData = poolData;\n      this.isOpen = true;\n      this.step = 1;\n      this.getLAIBalance();\n    },\n    async getLAIBalance() {\n      const params = {\n        tokenName: 'LAI',\n        chainID: this.ethChainID,\n        library: this.ethersprovider,\n        account:  this.ethAddress,\n        web3: this.web3,\n      };\n      this.LAIBalance = await fetchTokenBalance(params);\n    },\n    //关闭弹窗,去掉首次引导\n    closeDialog(){\n      this.isOpen = false;\n      this.coinAmount = 0;\n      this.setCurrentPool({});\n    },\n    //确认弹窗返回按钮\n    changeStep(){\n      this.step = 1;\n      this.coinAmount = 0;\n    },\n    onBurnClick() {\n      this.isOpen = false;\n      this.coinAmount = 0;\n      this.$parent.openBurnDialog(this.poolData);\n    },\n    onChangeValue(value) {\n      this.coinAmount = value;\n    },\n    onNextClick() {\n      this.step = 2;\n    },\n    async onMintClick() {\n      this.setCurrentPool({});\n      const params = {\n        type: 'borrow',\n        liquityState: this.poolData.liquityState,\n        tokenName: this.poolData.tokenName,\n        chainID: this.ethChainID,\n        library: this.ethersprovider,\n        account:  this.ethAddress,\n        web3: this.web3,\n        coinAmount: this.newDebt,\n        unit:this.poolData.stableName,\n      };\n\n      this.btnLoading = true;\n      try {\n        const tx = await fetchAdjustBalanace(params);\n        this.$parent.sendtx(tx);\n        this.isOpen = false;\n      } catch (e) {\n        this.btnLoading = false;\n      }\n    }\n  },\n};\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2b2fbb0a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2b2fbb0a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b2fbb0a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2b2fbb0a&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/arrow-left.e1aaf66f.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAqklEQVQoU2NkgIL/oQxsDC8Y0hn+M0QzMDBoQYWvMTAyLGWQYJjJuJrhF0iMEUT8t2SQZmBm2MLAwGAAMwCNvsDwl8GH8TjDU0awyc8ZTqIoNnSAqD9/AFnfBQZJBnPG/7YMuQz/GSahmJjYAOHOh9IwSUaGPMb/NgwnGBgYzInSwMBwEqThEwMDAy+RGj6TpQHTSdg9DXLESeyexqUB7GlSg5XkiCM1aQAAzyZIc7QaxZMAAAAASUVORK5CYII=\""],"sourceRoot":""}