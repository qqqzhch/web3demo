{"version":3,"sources":["webpack:///./src/contacthelp/ethusdt.js","webpack:///./src/views/vault/components/ScInput.vue?11fa","webpack:///src/views/vault/components/ScInput.vue","webpack:///./src/views/vault/components/ScInput.vue?d8f1","webpack:///./src/views/vault/components/ScInput.vue?2a40","webpack:///./src/views/vault/components/ScInput.vue?4859","webpack:///./src/views/vault/create/index.vue?16fc","webpack:///./src/views/vault/create/index.vue?6f73","webpack:///./src/views/vault/create/index.js","webpack:///./src/views/vault/create","webpack:///./src/views/vault/create/index.vue?f808","webpack:///./src/assets/img/notice-red.png"],"names":["getGasPrice","provider","data","toString","render","_vm","this","_h","$createElement","_c","_self","class","focus","isError","staticClass","_v","_s","title","_e","directives","name","rawName","value","expression","attrs","placetext","disabled","domProps","on","onInputFocus","onInputBlur","$event","target","composing","inputVal","unit","staticRenderFns","component","isMobile","$t","defaultPool","_f","accountBalance","token","depositAmount","onChangeDepositAmount","errorInfo","getTokenImg","_m","stableName","borrowAmount","onChangeBorrowAmount","troveIndicators","liquidationReserve","BigNumber","borrowLUSDAmount","times","borrowingRate","price","collateralRatio","toNumber","gasErrorMsg","gasAmount","gasPrice","div","btnLoading","onOpenTroveClick","_l","item","index","key","ref","currencyNumber","collateralPools","components","ScInput","haveSendDialog","assetDialog","Loading","mounted","event","$on","$route","$refs","haveSendtx","open","computed","mapState","isReady","ethersprovider","ethChainID","ethAddress","calcTroveIndicators","liquityState","minus","plus","methods","tokensymbol","chainID","checkIsOpen","isOpen","$router","push","getPools","getCollateralPools","validate","lt","i18n","t","isNaN","params","state","trove","liquityValidate","calcGasEstimate","getParams","getGasEstimate","message","val","LUSD_MINIMUM_DEBT","tokenName","library","account","web3","openTrove","tx","sendtx","base","$emit","transaction","rawSentTransaction","okinfo","failinfo","$Notice","error","watch","created","module","exports"],"mappings":"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","file":"js/chunk-5731cb64.721a991a.js","sourcesContent":["// import gastoken  from  \"@/constants/gastoken.json\";\n\nimport { getNetwork } from '@ethersproject/networks';\nimport { getDefaultProvider } from '@ethersproject/providers';\n\nimport getethProvider from './getethProvider.js';\n\nimport {\n    ChainId,\n    Token,\n    Fetcher,\n    Route,\n    TokenAmount,\n    Router,\n  } from \"@webfans/uniswapsdk\";\n\n// export async function  ethusdt(){\n//     const USDT = gastoken.tokens[0];\n//     const WETH = gastoken.tokens[1];\n\n//     const USDTcoin = new Token(\n//         USDT.chainId,\n//         USDT.address,\n//         USDT.decimals,\n//         USDT.symbol\n//       );\n\n//     const WETHcoin = new Token(\n//         WETH.chainId,\n//         WETH.address,\n//         WETH.decimals,\n//         WETH.symbol\n//       );\n\n  \n  \n//     const pair = await Fetcher.fetchPairData(\n//         USDTcoin,\n//         WETHcoin,\n//         getethProvider(USDTcoin)\n//       );\n//       console.log(pair);\n//       const route = new Route([pair], WETHcoin);\n\n//       const price = route.pairs[0].priceOf(WETHcoin);\n//       console.log('eth to usdt',price.toSignificant(6)) ;\n//       return price.toSignificant(6);\n\n// }\n\nexport async function getGasPrice(provider){\n  const data = await provider.getGasPrice();\n  \n\n  \n  return data.toString();\n\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'input-group': true, 'input-focus': _vm.focus, 'input-error': _vm.isError}},[(_vm.title)?_c('div',{staticClass:\"input-prepend\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputVal),expression:\"inputVal\"}],class:{'input-inner': true, 'no-title': !_vm.title},attrs:{\"type\":\"input\",\"name\":\"repay\",\"autoComplete\":\"off\",\"placeholder\":_vm.placetext,\"disabled\":_vm.disabled},domProps:{\"value\":(_vm.inputVal)},on:{\"focus\":_vm.onInputFocus,\"blur\":_vm.onInputBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.inputVal=$event.target.value}}}),_c('div',{staticClass:\"input-append\"},[_vm._v(\" \"+_vm._s(_vm.unit)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{'input-group': true, 'input-focus': focus, 'input-error': isError}\">\n    <div\n      v-if=\"title\"\n      class=\"input-prepend\"\n    >\n      {{ title }}\n    </div>\n    <input\n      v-model=\"inputVal\"\n      type=\"input\"\n      name=\"repay\"\n      autoComplete=\"off\"\n      :class=\"{'input-inner': true, 'no-title': !title}\"\n      :placeholder=\"placetext\"\n      :disabled=\"disabled\"\n      @focus=\"onInputFocus\"\n      @blur=\"onInputBlur\"\n    >\n    <div class=\"input-append\">\n      {{ unit }}\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'ScInput',\n    props: ['title', 'unit', 'placetext', 'disabled', 'onChange', 'defaultValue', 'isError'],\n    data() {\n      return {\n        inputVal: '',\n        focus: false\n      };\n    },\n    methods: {\n      onInputFocus() {\n        this.focus = true;\n      },\n      onInputBlur() {\n        this.focus = false;\n      },\n      onChangeValue(val){\n        const value = val || 0;\n        this.onChange && this.onChange(value);\n      }\n    },\n    watch: {\n      inputVal(val) {\n        this.onChangeValue(val);\n      },\n      defaultValue(val) {\n        this.inputVal = val;\n      }\n    },\n    created() {\n      this.onChangeValue(this.inputVal);\n    }\n  };\n\n</script>\n\n<style lang=\"less\" scoped>\n.input-group {\n    width: 100%;\n    display: inline-table;\n    border-collapse: separate;\n    border-spacing: 0;\n    font-size: 16px;\n    .input-prepend {\n      position: relative;\n      display: table-cell;\n      height: 70px;\n      width: 100px;\n      padding-top: 5px;\n      background-color: #F7F8F9;\n      color: #14171C;\n      vertical-align: middle;\n      text-align: center;\n      border: 1px solid #dcdfe6;\n      border-right: none;\n      border-radius: 8px;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n      white-space: nowrap;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .input-inner {\n      display: inline-block;\n      background-color: #F7F8F9;\n      border: 1px solid #dcdfe6;\n      border-left: none;\n      border-right: none;\n      box-sizing: border-box;\n      color: #0058FF;\n      font-size: 30px;\n      height: 70px;\n      outline: none;\n      padding: 20px 15px;\n      width: 100%;\n      vertical-align: middle;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .input-append {\n      position: relative;\n      display: table-cell;\n      vertical-align: middle;\n      padding-top: 5px;\n      width: 100px;\n      height: 70px;\n      background-color: #F7F8F9;\n      color: #14171C;\n      text-align: center;\n      border: 1px solid #dcdfe6;\n      border-left: none;\n      border-radius: 8px;\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n      white-space: nowrap;\n      transition: border-color .2s cubic-bezier(.645,.045,.355,1);\n    }\n    .no-title {\n      border-left: 1px solid #dcdfe6;\n      border-radius: 8px;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n}\n.input-focus {\n  .input-prepend {\n    border: 1px solid #0058FF;\n    border-right: none;\n  }\n  .input-append {\n    border: 1px solid #0058FF;\n    border-left: none;\n  }\n  .input-inner {\n    border: 1px solid #0058FF;\n    border-left: none;\n    border-right: none;\n  }\n  .no-title {\n    border-left: 1px solid #0058FF;\n  }\n}\n.input-error {\n  .input-prepend {\n    border: 1px solid #ff3d00;\n    border-right: none;\n  }\n  .input-append {\n    border: 1px solid #ff3d00;\n    border-left: none;\n  }\n  .input-inner {\n    border: 1px solid #ff3d00;\n    border-left: none;\n    border-right: none;\n  }\n  .no-title {\n    border-left: 1px solid #ff3d00;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScInput.vue?vue&type=template&id=1c42f5ce&scoped=true&\"\nimport script from \"./ScInput.vue?vue&type=script&lang=js&\"\nexport * from \"./ScInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScInput.vue?vue&type=style&index=0&id=1c42f5ce&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c42f5ce\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScInput.vue?vue&type=style&index=0&id=1c42f5ce&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=51a86fc5&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create box-shadow\"},[(!_vm.isMobile)?_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-deposit-digital-assets'))+\" \")])]):_vm._e(),(!_vm.isMobile)?_c('div',{staticClass:\"grid-2 mrg-tb-20\"},[_c('div',{staticClass:\"content-left\"},[_c('div',{staticClass:\"asset-item cursor-pointer\"},[_c('div',{staticClass:\"connect flex justify-between items-center\"},[_c('div',{staticClass:\"icon-wrapper flex justify-start items-center\"},[_vm._l((_vm.collateralPools),function(item,index){return [(_vm.defaultPool.name === item.name)?_c('img',{key:index,staticClass:\"mr-2\",attrs:{\"src\":_vm.getTokenImg(item.token),\"alt\":item.token}}):_vm._e()]}),_c('span',[_vm._v(_vm._s(_vm.defaultPool.title))])],2)])]),_c('div',{staticClass:\"input-warpper flex justify-between items-center mrg-t-20 mrg-b-5\"},[_c('div',{staticClass:\"mortgage\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-Deposit'))+\" \")]),_c('div',{staticClass:\"pull-right\"},[_c('p',{staticClass:\"balance\"},[_c('span',[_vm._v(_vm._s(_vm.$t('build-balance'))+\" \")]),_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.accountBalance))+\" \"+_vm._s(_vm.defaultPool.token)+\" \")])])]),_c('div',{staticClass:\"Input-item\"},[_c('ScInput',{staticClass:\"myInput\",attrs:{\"title\":\"\",\"default-value\":_vm.depositAmount,\"unit\":_vm.defaultPool.token,\"on-change\":_vm.onChangeDepositAmount,\"is-error\":_vm.errorInfo}}),_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.defaultPool.token),\"alt\":_vm.defaultPool.token}})],1),_vm._m(0),_c('div',{staticClass:\"Input-item\"},[_c('ScInput',{staticClass:\"myInput\",attrs:{\"title\":\"\",\"unit\":_vm.stableName,\"default-value\":_vm.borrowAmount,\"on-change\":_vm.onChangeBorrowAmount}}),_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.stableName),\"alt\":_vm.stableName}})],1)]),_c('div',{staticClass:\"content-right\"},[_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',{staticClass:\"f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.$t('vault-collateral'))+\"： \")]),_c('div',{staticClass:\"text-right f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.depositAmount)+\" \"+_vm._s(_vm.defaultPool.token)+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',{staticClass:\"f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-debt'))+\"： \")]),_c('div',{staticClass:\"text-right f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.borrowAmount)+\" \"+_vm._s(_vm.stableName)+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5 mrg-t-20\"},[_c('p',[_vm._v(_vm._s(_vm.$t('vault-liquidation-reserve'))+\"：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.troveIndicators.liquidationReserve)+\" \"+_vm._s(_vm.stableName)+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',[_vm._v(_vm._s(_vm.$t('vault-borrowing-fee'))+\"：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.BigNumber(_vm.borrowLUSDAmount).times(_vm.troveIndicators.borrowingRate)))+\" \"+_vm._s(_vm.stableName)+\" (\"+_vm._s(_vm.BigNumber(_vm.troveIndicators.borrowingRate).times(100))+\"%) \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5 mrg-t-20\"},[_c('p',[_vm._v(\" BNB Price： \")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" $ \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.troveIndicators.price))+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',[_vm._v(\"Collateral Ratio：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.BigNumber(_vm.troveIndicators.collateralRatio).times(100).toNumber()))+\" % \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',[_vm._v(_vm._s(_vm.$t('build-liquidation-ratio'))+\"：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" 110% \")])]),(_vm.errorInfo || _vm.gasErrorMsg)?_c('div',{staticClass:\"notice-content\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/notice-red.png\")}}),_c('p',[_vm._v(_vm._s(_vm.errorInfo || _vm.gasErrorMsg))])]):_vm._e(),(_vm.gasAmount && !_vm.gasErrorMsg)?_c('div',{staticClass:\"notice-content-gas\"},[_c('div',[_vm._v(\" Gas Fee: \"+_vm._s(_vm.BigNumber(_vm.gasAmount).times(_vm.gasPrice).div(\"1e18\").toString())+\"BNB \"),_c('br'),_vm._v(\"Adjusting the quantity of \\\"Deposit\\\" and \\\"Debt\\\" will effectively reduce the Gas Fee. \")])]):_vm._e(),(_vm.gasErrorMsg)?_c('div',{staticClass:\"notice-content-gas\"},[_c('div',[_vm._v(\" Adjusting the quantity of \\\"Deposit\\\" and \\\"Debt\\\" will effectively reduce the Gas Fee. \")])]):_vm._e(),_c('div',[(!(_vm.errorInfo || _vm.gasErrorMsg) && !_vm.btnLoading)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.onOpenTroveClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-create-vault'))+\" \")]):_vm._e(),(!(_vm.errorInfo || _vm.gasErrorMsg) && _vm.btnLoading)?_c('button',{staticClass:\"btn\"},[_vm._v(\" Loading... \")]):_vm._e(),((_vm.errorInfo || _vm.gasErrorMsg))?_c('button',{staticClass:\"btn btn-disabled\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-create-vault'))+\" \")]):_vm._e()])])]):_c('div',[_c('div',{staticClass:\"content-left\"},[_c('div',{staticClass:\"pool-title\"},[_vm._v(\" \"+_vm._s(_vm.defaultPool.title)+\" \")]),_c('div',{staticClass:\"input-warpper flex justify-between items-center\"},[_c('div',{staticClass:\"mortgage\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-Deposit'))+\" \")]),_c('div',{staticClass:\"pull-right\"},[_c('p',{staticClass:\"balance\"},[_c('span',[_vm._v(_vm._s(_vm.$t('build-balance'))+\" \")]),_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.accountBalance))+\" \"+_vm._s(_vm.defaultPool.token)+\" \")])])]),_c('div',{staticClass:\"Input-item\"},[_c('ScInput',{staticClass:\"myInput\",attrs:{\"title\":\"\",\"default-value\":_vm.depositAmount,\"unit\":_vm.defaultPool.token,\"on-change\":_vm.onChangeDepositAmount,\"is-error\":_vm.errorInfo}}),_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.defaultPool.token),\"alt\":_vm.defaultPool.token}})],1),_vm._m(1),_c('div',{staticClass:\"Input-item\"},[_c('ScInput',{staticClass:\"myInput\",attrs:{\"title\":\"\",\"unit\":_vm.stableName,\"default-value\":_vm.borrowAmount,\"on-change\":_vm.onChangeBorrowAmount}}),_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.stableName),\"alt\":_vm.stableName}})],1)]),_c('div',{staticClass:\"content-right mrg-t-20\"},[_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('div',{staticClass:\"f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.$t('vault-collateral'))+\"： \")]),_c('div',{staticClass:\"text-right f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.depositAmount)+\" \"+_vm._s(_vm.defaultPool.token)+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('div',{staticClass:\"f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-debt'))+\"： \")]),_c('div',{staticClass:\"text-right f-size-20\"},[_vm._v(\" \"+_vm._s(_vm.borrowAmount)+\" \"+_vm._s(_vm.stableName)+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5 mrg-t-20\"},[_c('p',[_vm._v(_vm._s(_vm.$t('vault-liquidation-reserve'))+\"：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.troveIndicators.liquidationReserve)+\" \"+_vm._s(_vm.stableName)+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',[_vm._v(_vm._s(_vm.$t('vault-borrowing-fee'))+\"：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.BigNumber(_vm.borrowLUSDAmount).times(_vm.troveIndicators.borrowingRate)))+\" \"+_vm._s(_vm.stableName)+\" (\"+_vm._s(_vm.BigNumber(_vm.troveIndicators.borrowingRate).times(100))+\"%) \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5 mrg-t-20\"},[_c('p',[_vm._v(\" BNB Price： \")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" $ \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.troveIndicators.price))+\" \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',[_vm._v(\"Collateral Ratio：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatNormalValue\")(_vm.BigNumber(_vm.troveIndicators.collateralRatio).times(100).toNumber()))+\" % \")])]),_c('div',{staticClass:\"build-grid-2 mrg-b-5\"},[_c('p',[_vm._v(_vm._s(_vm.$t('build-liquidation-ratio'))+\"：\")]),_c('div',{staticClass:\"text-right\"},[_vm._v(\" 110% \")])]),(_vm.errorInfo || _vm.gasErrorMsg)?_c('div',{staticClass:\"notice-content\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/notice-red.png\")}}),_c('div',{staticClass:\"error-info\"},[_vm._v(\" \"+_vm._s(_vm.errorInfo || _vm.gasErrorMsg)+\" \")])]):_vm._e(),(_vm.gasAmount && !_vm.gasErrorMsg)?_c('div',{staticClass:\"notice-content-gas\"},[_c('div',[_vm._v(\" Gas Fee: \"+_vm._s(_vm.BigNumber(_vm.gasAmount).times(_vm.gasPrice).div(\"1e18\").toString())+\"BNB \"),_c('br'),_vm._v(\"Adjusting the quantity of \\\"Deposit\\\" and \\\"Debt\\\" will effectively reduce the Gas Fee. \")])]):_vm._e(),(_vm.gasErrorMsg)?_c('div',{staticClass:\"notice-content-gas\"},[_c('div',[_vm._v(\" Adjusting the quantity of \\\"Deposit\\\" and \\\"Debt\\\" will effectively reduce the Gas Fee. \")])]):_vm._e(),_c('div',[(!(_vm.errorInfo || _vm.gasErrorMsg) && !_vm.btnLoading)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.onOpenTroveClick}},[_vm._v(\" \"+_vm._s(_vm.$t('build-create-vault'))+\" \")]):_vm._e(),(!(_vm.errorInfo || _vm.gasErrorMsg) && _vm.btnLoading)?_c('button',{staticClass:\"btn\"},[_vm._v(\" Loading... \")]):_vm._e(),((_vm.errorInfo || _vm.gasErrorMsg))?_c('button',{staticClass:\"btn btn-disabled\"},[_vm._v(\" \"+_vm._s(_vm.$t('build-create-vault'))+\" \")]):_vm._e()])])]),_c('haveSendDialog',{ref:\"haveSendtx\"}),_c('assetDialog',{ref:\"asset\"})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"title-build\"},[_vm._v(\" Debt \")]),_c('div',{staticClass:\"pull-right\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"title-build\"},[_vm._v(\" Debt \")]),_c('div',{staticClass:\"pull-right\"})])}]\n\nexport { render, staticRenderFns }","import { mapState } from 'vuex';\nimport BigNumber from \"bignumber.js\";\nimport event from '@/common/js/event';\nimport { getTokenImg } from '@/contactLogic/readbalance.js';\nimport ScInput from '../components/ScInput.vue';\nimport { getCollateralPools } from '@/contactLogic/buildr/balance';\nimport i18n from '../../../i18n/index.js';\nimport { openTrove, calcTroveIndicators, stableName, LUSD_MINIMUM_DEBT, getGasEstimate } from '../../../contactLogic/buildr/liquity';\nimport { liquityValidate } from '../../../contactLogic/buildr/validate';\nimport { getGasPrice } from '@/contacthelp/ethusdt';\n\n\nexport default {\n  name: 'create',\n  data() {\n    return {\n      stableName,\n      currencyNumber: 0, // 资产数量\n      collateralPools: [], // 合约池\n      defaultPool: {},\n      BigNumber,\n      depositAmount: 0,\n      borrowAmount: 0,\n      errorInfo: '',\n      btnLoading: false,\n      gasAmount: 0,\n      gasPrice: 0,\n      gasErrorMsg: '',\n    };\n  },\n  components: {\n    ScInput,\n    haveSendDialog: () => import(\"../components/haveSendDialog.vue\"),\n    assetDialog: () => import('../components/assetDialog.vue'),\n    Loading: () => import(\"@/components/basic/loading.vue\"),\n  },\n  mounted() {\n    //txsuccess\n    event.$on('txsuccess',() => {\n      const data = {\n        stableName: this.stableName,\n        depositAmount: this.depositAmount,\n        borrowAmount: this.borrowLUSDAmount\n      };\n      if(this.$route.name === 'create') {\n        this.$refs.haveSendtx.open(data, 'ok');\n      }\n    });\n  },\n  computed: {\n    ...mapState(['web3', 'ethersprovider', 'ethChainID', 'ethAddress','isMobile']),\n    ...mapState('buildr', ['liquityState', \"isOpen\"]),\n    isReady() {\n      return this.ethersprovider && this.ethChainID && this.ethAddress;\n    },\n    troveIndicators(){\n      return calcTroveIndicators(this.liquityState, this.depositAmount, this.borrowAmount);\n    },\n    accountBalance() {\n     return this.liquityState.accountBalance.toString();\n    },\n    // 计算借贷净值 = Debt - 清算准备金 - 净值*借贷费率 + 0.000001(精度问题)\n    borrowLUSDAmount() {\n      const { liquidationReserve, borrowingRate } = this.troveIndicators;\n      return this.borrowAmount < 20 ? 0 : BigNumber(this.borrowAmount).minus(liquidationReserve).div(BigNumber(1).plus(borrowingRate)).plus(0.000001).toNumber();\n    },\n    // isPC() {\n    //   return window.screen.width > 1200;\n    // },\n  },\n  methods: {\n    getTokenImg(tokensymbol){\n      const chainID = this.ethChainID;\n      return getTokenImg(tokensymbol,chainID);\n    },\n    // check金库是否已创建\n    async checkIsOpen() {\n      if(this.isOpen) {\n        this.$router.push('/vault/balance');\n      } else {\n        this.getPools();\n        this.gasPrice = await getGasPrice(this.ethersprovider);\n      }\n    },\n    getPools() {\n        this.collateralPools = getCollateralPools(this.ethChainID);\n        this.defaultPool = this.collateralPools[0];\n\n    },\n    validate() {\n      let errorInfo = '';\n      if(BigNumber(this.depositAmount).lt(0)) {\n        errorInfo = i18n.t('notice.swapNotice.n2');\n      } else if (isNaN(this.depositAmount)) {\n        errorInfo = i18n.t('notice.buidrNotice.n1');\n      } else {\n        const params = {\n          state: this.liquityState,\n          trove: this.liquityState.trove,\n          borrowingRate: this.liquityState.borrowingRate,\n          depositAmount: this.depositAmount,\n          borrowAmount: this.borrowAmount,\n        };\n        errorInfo = liquityValidate(params);\n      }\n      this.errorInfo = errorInfo;\n    },\n    async calcGasEstimate() {\n      const params = {\n        ...this.getParams(),\n        borrowLUSDAmount: this.borrowLUSDAmount,\n        depositAmount: this.depositAmount,\n        liquityState: this.liquityState,\n      };\n      this.btnLoading = true;\n      try {\n        this.gasAmount = await getGasEstimate(params);\n        this.btnLoading = false;\n      } catch (e) {\n        this.gasErrorMsg = e && e.data && e.data.message;\n        this.btnLoading = false;\n      }\n    },\n    onChangeDepositAmount(val) {\n      this.gasAmount = 0;\n      this.gasErrorMsg = '';\n      this.depositAmount = val || '';\n      if (this.depositAmount && !this.borrowAmount) {\n        this.borrowAmount = LUSD_MINIMUM_DEBT;\n      }\n      this.validate();\n      if(!this.errorInfo) {\n        this.calcGasEstimate();\n      }\n    },\n    onChangeBorrowAmount(val) {\n      this.gasAmount = 0;\n      this.gasErrorMsg = '';\n      this.borrowAmount = val || '';\n      this.validate();\n      if(!this.errorInfo) {\n        this.calcGasEstimate();\n      }\n    },\n    getParams() {\n      const { token } = this.defaultPool;\n      return {\n        tokenName: token,\n        chainID: this.ethChainID,\n        library: this.ethersprovider,\n        account:  this.ethAddress,\n        web3: this.web3,\n      };\n    },\n    async onOpenTroveClick() {\n      if(!this.depositAmount || !this.borrowLUSDAmount) {\n        this.errorInfo = i18n.t('notice.swapNotice.n2');\n        return ;\n      }\n\n      const params = {\n        ...this.getParams(),\n        borrowLUSDAmount: this.borrowLUSDAmount,\n        depositAmount: this.depositAmount,\n        liquityState: this.liquityState,\n      };\n\n      this.btnLoading = true;\n      try {\n        const tx = await openTrove(params);\n        this.sendtx(tx);\n      } catch (e) {\n        this.btnLoading = false;\n      }\n    },\n    sendtx(tx) {\n      if(tx && tx.base){\n        this.$refs.haveSendtx.open(tx.base, 'created');\n        event.$emit('sendtx',[tx.transaction.rawSentTransaction, {\n          okinfo: tx.base+' '+i18n.t('vault-success'),\n          failinfo: tx.base+' '+i18n.t('vault-Fail')\n        }]);\n      } else {\n        this.$Notice.error({\n          title: i18n.t('notice.buidrNotice.n3'),\n        });\n      }\n    },\n  },\n  watch: {\n    isReady(value) {\n      if (value) {\n        this.checkIsOpen();\n      }\n    },\n  },\n  created() {\n    if(this.isReady) {\n      this.checkIsOpen();\n    }\n  }\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=51a86fc5&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=51a86fc5&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51a86fc5\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAqklEQVQoU2NkgIL/oQxsDC8Y0hn+M0QzMDBoQYWvMTAyLGWQYJjJuJrhF0iMEUT8t2SQZmBm2MLAwGAAMwCNvsDwl8GH8TjDU0awyc8ZTqIoNnSAqD9/AFnfBQZJBnPG/7YMuQz/GSahmJjYAOHOh9IwSUaGPMb/NgwnGBgYzInSwMBwEqThEwMDAy+RGj6TpQHTSdg9DXLESeyexqUB7GlSg5XkiCM1aQAAzyZIc7QaxZMAAAAASUVORK5CYII=\""],"sourceRoot":""}